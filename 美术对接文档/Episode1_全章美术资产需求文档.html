<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NDC Episode 1 - 血色酒吧 全章美术资产需求文档</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .controls {
            background: #f8f9fa;
            padding: 30px;
            border-bottom: 3px solid #e9ecef;
        }

        .control-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .control-item {
            display: flex;
            flex-direction: column;
        }

        label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #2c3e50;
            font-size: 0.95em;
        }

        select {
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
        }

        select:hover {
            border-color: #3498db;
        }

        select:focus {
            outline: none;
            border-color: #2980b9;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #3498db;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .stat-label {
            font-size: 0.9em;
            color: #7f8c8d;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 1.8em;
            font-weight: 700;
            color: #2c3e50;
        }

        .content {
            padding: 40px;
        }

        .assets-grid {
            display: grid;
            gap: 25px;
        }

        .asset-card {
            background: #ffffff;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 25px;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .asset-card:hover {
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            transform: translateY(-3px);
            border-color: #3498db;
        }

        .asset-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f1f3f5;
            flex-wrap: wrap;
            gap: 10px;
        }

        .asset-ids {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .id-row {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .id-label {
            font-size: 0.75em;
            color: #7f8c8d;
            font-weight: 600;
            min-width: 60px;
        }

        .asset-id {
            font-family: 'Consolas', 'Courier New', monospace;
            font-size: 1.3em;
            font-weight: 700;
            color: #2c3e50;
            background: #f8f9fa;
            padding: 8px 15px;
            border-radius: 6px;
            border: 2px solid #dee2e6;
            cursor: pointer;
            transition: all 0.3s;
        }

        .asset-id:hover {
            background: #3498db;
            color: white;
            border-color: #2980b9;
            transform: scale(1.05);
        }

        .asset-id:active {
            transform: scale(0.98);
        }

        .asset-id-small {
            font-family: 'Consolas', 'Courier New', monospace;
            font-size: 1.1em;
            font-weight: 600;
            color: #2e7d32;
            background: #e8f5e9;
            padding: 6px 12px;
            border-radius: 6px;
            border: 2px solid #81c784;
            cursor: pointer;
            transition: all 0.3s;
        }

        .asset-id-small:hover {
            background: #4caf50;
            color: white;
            border-color: #388e3c;
            transform: scale(1.05);
        }

        .asset-id-small:active {
            transform: scale(0.98);
        }

        .asset-id-big {
            font-family: 'Consolas', 'Courier New', monospace;
            font-size: 1.1em;
            font-weight: 600;
            color: #7b1fa2;
            background: #f3e5f5;
            padding: 6px 12px;
            border-radius: 6px;
            border: 2px solid #ce93d8;
            cursor: pointer;
            transition: all 0.3s;
        }

        .asset-id-big:hover {
            background: #9c27b0;
            color: white;
            border-color: #7b1fa2;
            transform: scale(1.05);
        }

        .asset-id-big:active {
            transform: scale(0.98);
        }

        .asset-id-icon {
            font-family: 'Consolas', 'Courier New', monospace;
            font-size: 1.1em;
            font-weight: 600;
            color: #d84315;
            background: #fbe9e7;
            padding: 6px 12px;
            border-radius: 6px;
            border: 2px solid #ff8a65;
            cursor: pointer;
            transition: all 0.3s;
        }

        .asset-id-icon:hover {
            background: #ff5722;
            color: white;
            border-color: #d84315;
            transform: scale(1.05);
        }

        .asset-id-icon:active {
            transform: scale(0.98);
        }

        .asset-category {
            display: inline-block;
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 600;
        }

        .category-现场线索 {
            background: #e3f2fd;
            color: #1976d2;
        }

        .category-物品 {
            background: #f3e5f5;
            color: #7b1fa2;
        }

        .category-环境叙事 {
            background: #e8f5e9;
            color: #388e3c;
        }

        .category-笔记 {
            background: #fff3e0;
            color: #f57c00;
        }

        .category-背景 {
            background: #fce4ec;
            color: #c2185b;
        }

        .asset-details {
            display: grid;
            gap: 12px;
        }

        .detail-row {
            display: grid;
            grid-template-columns: 120px 1fr;
            gap: 15px;
        }

        .detail-label {
            font-weight: 600;
            color: #7f8c8d;
        }

        .detail-value {
            color: #2c3e50;
            line-height: 1.6;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #95a5a6;
        }

        .empty-state svg {
            width: 120px;
            height: 120px;
            margin-bottom: 20px;
            opacity: 0.3;
        }

        .empty-state p {
            font-size: 1.2em;
        }

        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #27ae60;
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            opacity: 0;
            transform: translateY(-20px);
            transition: all 0.3s;
            z-index: 1000;
            font-weight: 600;
        }

        .toast.show {
            opacity: 1;
            transform: translateY(0);
        }

        @media (max-width: 768px) {
            .control-group {
                grid-template-columns: 1fr;
            }

            .detail-row {
                grid-template-columns: 1fr;
            }

            h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="toast" id="toast">已复制到剪贴板!</div>

    <div class="container">
        <header>
            <h1>NDC Episode 1 - 血色酒吧</h1>
            <div class="subtitle">全章美术资产需求文档</div>
        </header>

        <div class="controls">
            <div class="control-group">
                <div class="control-item">
                    <label for="cycleFilter">循环选择</label>
                    <select id="cycleFilter">
                        <option value="all">全部循环</option>
                    </select>
                </div>

                <div class="control-item">
                    <label for="sceneFilter">场景选择</label>
                    <select id="sceneFilter">
                        <option value="all">全部场景</option>
                    </select>
                </div>

                <div class="control-item">
                    <label for="categoryFilter">类别筛选</label>
                    <select id="categoryFilter">
                        <option value="all">全部类别</option>
                        <option value="背景">背景 (Background)</option>
                        <option value="现场线索">现场线索 (Clue)</option>
                        <option value="物品">物品 (Item)</option>
                        <option value="环境叙事">环境叙事 (Environment)</option>
                        <option value="笔记">笔记 (Note)</option>
                    </select>
                </div>
            </div>

            <div class="stats">
                <div class="stat-card">
                    <div class="stat-label">当前显示资产</div>
                    <div class="stat-value" id="currentCount">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">总资产数量</div>
                    <div class="stat-value" id="totalCount">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">当前循环</div>
                    <div class="stat-value" id="currentCycle">全部</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">当前场景</div>
                    <div class="stat-value" id="currentScene">全部</div>
                </div>
            </div>
        </div>

        <div class="content">
            <div class="assets-grid" id="assetsContainer"></div>
        </div>
    </div>

    <script>
        // 场景名称映射
        const sceneNameMapping = {
            'SC101': 'Rosa储藏室',
            'SC113': '歌舞厅一楼走廊/Tommy办公室',
            'SC213': 'Webb会客室/Morrison家中客厅/Morrison家中书房/Tommy办公室',
            'SC208': 'Vivian的化妆室',
            'SC313': 'Webb办公室/Tommy办公室',
            'SC302': '酒吧歌舞厅/酒吧大堂',
            'SC404': 'Jimmy的厨房',
            'SC406': 'Jimmy家中卧室',
            'SC508': 'Vivian的化妆室',
            'SC513': 'Tommy办公室',
            'SC502': '酒吧大堂',
            'SC613': 'Webb会客室',
            'SC602': '酒吧歌舞厅',
            'SC608': 'Vivan的化妆室'
        };

        // 从JSON生成的完整游戏数据
        const gameData = {
            "episode": "Episode 1",
            "title": "血色酒吧",
            "loops": [
                {
                    "loop_id": 1,
                    "loop_name": "循环1: Rosa现场目击指证",
                    "scenes": [
                        {
                            "scene_id": "SC101",
                            "scene_name": "Rosa储藏室",
                            "evidences": [
                                {
                                    "asset_id": "SC101_environment_111",
                                    "evidence_number": "证据111",
                                    "category": "环境叙事",
                                    "name": "芝加哥警局通缉令",
                                    "description": "Rosa储藏室报纸,通缉'疤面Tony'的悬赏金高达5000美元,强化当时芝加哥黑帮横行的社会背景"
                                },
                                {
                                    "asset_id": "SC101_environment_112",
                                    "evidence_number": "证据112",
                                    "category": "环境叙事",
                                    "name": "Rosa的女儿照片",
                                    "description": "Rosa储藏室墙上相框,照片背面写着'我的小天使Miguel,妈妈的一切希望',上面写女儿的生日0915,强化Rosa母爱主题"
                                },
                                {
                                    "asset_id": "SC101_environment_113",
                                    "evidence_number": "证据113",
                                    "category": "环境叙事",
                                    "name": "Rosa的医院就诊清单",
                                    "description": "Rosa储藏室,女儿Miguel的昂贵药物清单,经济压力巨大,展现Rosa的家庭困境"
                                },
                                {
                                    "asset_id": "SC101_item_114",
                                    "evidence_number": "证据114",
                                    "category": "物品",
                                    "name": "沾有氯仿的毛巾",
                                    "description": "Rosa储藏室清洁工具箱内,含有医用麻醉剂氯仿,不是清洁用品,需要分析证据,否定Rosa'专心清洁,什么都没看到'的目击谎言"
                                },
                                {
                                    "asset_id": "SC101_item_115",
                                    "evidence_number": "证据115",
                                    "category": "物品",
                                    "name": "工作记录卡",
                                    "description": "Rosa储藏室工具箱底部,明确显示23:00-01:00在后台走廊清洁,否定Rosa'在地下室酒窖工作'的地点谎言"
                                }
                            ]
                        },
                        {
                            "scene_id": "SC102",
                            "scene_name": "歌舞厅一楼走廊",
                            "evidences": [
                                {
                                    "asset_id": "SC102_clue_121",
                                    "evidence_number": "证据121",
                                    "category": "现场线索",
                                    "name": "氯仿瓶",
                                    "description": "歌舞厅一楼走廊垃圾桶内,瓶口有少量氯仿残留,揭示Morrison使用氯仑迷晕Zack的手段"
                                },
                                {
                                    "asset_id": "SC102_clue_122",
                                    "evidence_number": "证据122",
                                    "category": "现场线索",
                                    "name": "地板拖拽痕迹",
                                    "description": "歌舞厅一楼走廊,压痕较深,拖动的东西至少150磅,普通女性的力量基本无法完成这样的行为,需要分析证据,否定Rosa的自认"
                                }
                            ]
                        },
                        {
                            "scene_id": "SC103",
                            "scene_name": "Tommy办公室",
                            "evidences": [
                                {
                                    "asset_id": "SC103_note_133",
                                    "evidence_number": "证据133",
                                    "category": "笔记",
                                    "name": "Tommy时间证词",
                                    "description": "Tommy办公室,确实有一声枪响...但这声枪响和平时黑帮火拼的声音不太一样,只听到了一声"
                                }
                            ]
                        }
                    ]
                },
                {
                    "loop_id": 2,
                    "loop_name": "循环2: Morrison腐败网络调查",
                    "scenes": [
                        {
                            "scene_id": "SC204",
                            "scene_name": "Webb会客室",
                            "evidences": [
                                {
                                    "asset_id": "SC204_clue_209",
                                    "evidence_number": "证据209",
                                    "category": "现场线索",
                                    "name": "警用便携式现场勘验箱压痕",
                                    "description": "Webb会客室案发现场地毯,四方形的特殊压痕,完全吻合便携式现场勘验箱的尺寸,需要分析证据,证明Morrison使用便携式现场勘验箱来到现场"
                                },
                                {
                                    "asset_id": "SC204_environment_231",
                                    "evidence_number": "证据231",
                                    "category": "环境叙事",
                                    "name": "Vivian与Webb的甜蜜合影",
                                    "description": "Webb会客室小茶几上,早期Vivian与Webb的幸福合影,对比显示Vivian情感的巨大落差"
                                }
                            ]
                        },
                        {
                            "scene_id": "SC205",
                            "scene_name": "Morrison家中客厅",
                            "evidences": [
                                {
                                    "asset_id": "SC205_note_211",
                                    "evidence_number": "证据211",
                                    "category": "笔记",
                                    "name": "Morrison夫人时间证词",
                                    "description": "Morrison家中书房与Morrison夫人对话获得,Morrison于00:30从家出发,声称处理紧急案件"
                                }
                            ]
                        },
                        {
                            "scene_id": "SC206",
                            "scene_name": "Morrison家中书房",
                            "evidences": [
                                {
                                    "asset_id": "SC206_item_221",
                                    "evidence_number": "证据221",
                                    "category": "物品",
                                    "name": "警用便携式现场勘验箱领用单据",
                                    "description": "Morrison家中书房文件柜中,案发前一天19:30领用便携式现场勘验箱,里面有各种测量设备,有Morrison签名,证明Morrison提前准备"
                                },
                                {
                                    "asset_id": "SC206_item_223",
                                    "evidence_number": "证据223",
                                    "category": "物品",
                                    "name": "警用便携式现场勘验箱",
                                    "description": "Morrison家中书房,便携式现场勘验箱,里面有各种测量设备,与现场压痕进行比对,需要分析使用"
                                },
                                {
                                    "asset_id": "SC206_environment_224",
                                    "evidence_number": "证据224",
                                    "category": "环境叙事",
                                    "name": "Morrison的赌债欠条",
                                    "description": "Morrison家中书房抽屉深处,欠疤面Tony $5000赌债,催债信件威胁家人安全"
                                },
                                {
                                    "asset_id": "SC206_environment_225",
                                    "evidence_number": "证据225",
                                    "category": "环境叙事",
                                    "name": "Whale的匿名联系纸条",
                                    "description": "Morrison家中书房夹在书页中,神秘人'Whale'的联系方式和简单指示,为后续循环'Whale'线索埋设伏笔"
                                },
                                {
                                    "asset_id": "SC206_environment_226",
                                    "evidence_number": "证据226",
                                    "category": "环境叙事",
                                    "name": "赌场的筹码",
                                    "description": "Morrison家中书房,几枚不同面额的赌场筹码,印着'赌场'标志,其中一枚背面用小字刻着'最后一次',证实Morrison的赌博成瘾问题"
                                },
                                {
                                    "asset_id": "SC206_environment_227",
                                    "evidence_number": "证据227",
                                    "category": "环境叙事",
                                    "name": "1920年代报纸头条",
                                    "description": "Morrison家中书房,部分勒索信息及掩盖真相,Miller集团的事情,强化芝加哥社会的动荡不安"
                                },
                                {
                                    "asset_id": "SC206_environment_228",
                                    "evidence_number": "证据228",
                                    "category": "环境叙事",
                                    "name": "Morrison的功勋奖章",
                                    "description": "Morrison家中书房展示柜中,一枚'英勇服务奖章',表彰Morrison在一次银行抢劫案中的英勇表现,可能让玩家怀疑Morrison是否真的是坏人"
                                }
                            ]
                        },
                        {
                            "scene_id": "SC207",
                            "scene_name": "Vivian的化妆室",
                            "evidences": [
                                {
                                    "asset_id": "SC207_note_241",
                                    "evidence_number": "证据241",
                                    "category": "笔记",
                                    "name": "Vivian时间证词",
                                    "description": "Vivian的化妆室,Morrison 01:00到达,确认Morrison到达时间"
                                }
                            ]
                        },
                        {
                            "scene_id": "SC203",
                            "scene_name": "Tommy办公室",
                            "evidences": [
                                {
                                    "asset_id": "SC203_note_261",
                                    "evidence_number": "证据261",
                                    "category": "笔记",
                                    "name": "Tommy关于Morrison行车路线的证词",
                                    "description": "Tommy办公室与Tommy对话获得,Tommy确认'我给Morrison送过东西到他家,从他家到这里开车最多15分钟',证明Morrison时间说法矛盾"
                                }
                            ]
                        },
                        {
                            "scene_id": "SC201",
                            "scene_name": "Rosa储藏室",
                            "evidences": [
                                {
                                    "asset_id": "SC201_note_271",
                                    "evidence_number": "证据271",
                                    "category": "笔记",
                                    "name": "Rosa行为证词",
                                    "description": "Rosa储藏室与Rosa补充对话获得,检查时未使用任何测量工具,确认Morrison现场行为"
                                }
                            ]
                        }
                    ]
                },
                {
                    "loop_id": 3,
                    "loop_name": "循环3: Tommy古董密码网络",
                    "scenes": [
                        {
                            "scene_id": "SC308",
                            "scene_name": "Webb办公室",
                            "evidences": [
                                {
                                    "asset_id": "SC308_item_311",
                                    "evidence_number": "证据311",
                                    "category": "物品",
                                    "name": "Webb总收入财务汇总",
                                    "description": "Webb办公室柜子中,月总收入15,000美元,与酒类销售差额高达11,000美元来源不明,否定Tommy'收入全部来自酒类销售'的说法"
                                },
                                {
                                    "asset_id": "SC308_item_312",
                                    "evidence_number": "证据312",
                                    "category": "物品",
                                    "name": "Webb总收入财务收入记录",
                                    "description": "Webb办公室柜子中,其中有比较明确的当月勒索收入,被包装为古董收入"
                                },
                                {
                                    "asset_id": "SC308_item_313",
                                    "evidence_number": "证据313",
                                    "category": "物品",
                                    "name": "Tommy的详细工作记录",
                                    "description": "Webb办公室桌子抽屉里,详细记录客户访问时间、观看古董类型,同一古董多次'销售'记录,需要笔迹分析,字迹与Tommy的字迹一致,否定Tommy'不知情,只是做账'的狡辩"
                                },
                                {
                                    "asset_id": "SC308_clue_314",
                                    "evidence_number": "证据314",
                                    "category": "现场线索",
                                    "name": "VIP客户照片",
                                    "description": "Webb办公室墙上客户照片拍摄,三张照片,包括和多位芝加哥政商要人合影照片,包括Thompson议员、Coleman银行家,Tisra检察官,展示Webb勒索网络的规模"
                                },
                                {
                                    "asset_id": "SC308_environment_315",
                                    "evidence_number": "证据315",
                                    "category": "环境叙事",
                                    "name": "Webb对Vivian的虚假承诺信件",
                                    "description": "Webb办公室私人保险箱,多封Webb写给Vivian的信,承诺'很快就能结束这种生活,我们会有光明未来',证明Webb一直在欺骗Vivian"
                                },
                                {
                                    "asset_id": "SC308_item_316",
                                    "evidence_number": "证据316",
                                    "category": "物品",
                                    "name": "Webb的项链",
                                    "description": "Webb办公室,一枚昂贵的钻石项链,装在精美的项链盒中,盒子内侧有刻字:'给我最爱的Vivian,永远的承诺',可能让玩家认为Webb对Vivian是真心的"
                                },
                                {
                                    "asset_id": "SC308_environment_317",
                                    "evidence_number": "证据317",
                                    "category": "环境叙事",
                                    "name": "Webb的私人日记摘录",
                                    "description": "Webb办公室书架隐蔽处的圣经夹层中,'这些道貌岸然的家伙,高喊禁酒令神圣,却偷偷来买最好的加拿大威士忌.他们的虚伪是我的财富,秘密是我的保险柜',表明Webb的冷酷与计划"
                                },
                                {
                                    "asset_id": "SC308_item_318",
                                    "evidence_number": "证据318",
                                    "category": "物品",
                                    "name": "Thompson议员的妥协信件",
                                    "description": "Webb办公室文件柜A档案,Thompson同意每月支付$8000'古董鉴赏费',措辞委婉但意图明确,证实勒索活动的具体运作"
                                },
                                {
                                    "asset_id": "SC308_item_319",
                                    "evidence_number": "证据319",
                                    "category": "物品",
                                    "name": "Coleman银行家的转账记录",
                                    "description": "Webb办公室文件柜B档案,每月定期转账$6000至Webb账户,备注'艺术品欣赏',证实勒索资金流向"
                                },
                                {
                                    "asset_id": "SC308_item_320",
                                    "evidence_number": "证据320",
                                    "category": "物品",
                                    "name": "古董专业鉴定报告",
                                    "description": "Webb办公室抽屉里获取,实际价值$2000,欧洲油画实际价值$150,与循环4中的证据425合并"
                                },
                                {
                                    "asset_id": "SC308_item_521",
                                    "evidence_number": "证据521",
                                    "category": "物品",
                                    "name": "Rita的照片和联系信息",
                                    "description": "Webb办公室书桌抽屉拍摄,Rita的个人照片,背面写着Rita的个人信息,证实Webb与Rita的亲密关系"
                                },
                                {
                                    "asset_id": "SC308_item_431",
                                    "evidence_number": "证据431",
                                    "category": "物品",
                                    "name": "Webb焦虑状态记录",
                                    "description": "Webb办公室书桌便签拍摄,手写便签显示'WHALE很危险',证实Webb最近确实遇到了重大威胁"
                                }
                            ]
                        },
                        {
                            "scene_id": "SC303",
                            "scene_name": "Tommy办公室",
                            "evidences": [
                                {
                                    "asset_id": "SC303_item_322",
                                    "evidence_number": "证据322",
                                    "category": "物品",
                                    "name": "Webb酒吧营业收入记录",
                                    "description": "Tommy办公室柜子中,月净酒类销售收入仅4,000美元,与声称的总收入不符,证明酒吧正常营业收入有限"
                                },
                                {
                                    "asset_id": "SC303_item_323",
                                    "evidence_number": "证据323",
                                    "category": "物品",
                                    "name": "Tommy的同情日记",
                                    "description": "Tommy办公室私人抽屉,'作为一个有妻儿的男人,看着Vivian小姐被迫做那些...不光彩的事情来维持生计,我深感羞愧',展现Tommy对Vivian的同情,用于笔迹分析"
                                },
                                {
                                    "asset_id": "SC303_clue_324",
                                    "evidence_number": "证据324",
                                    "category": "现场线索",
                                    "name": "Vivian工作安排表",
                                    "description": "Tommy办公室墙上拍摄,Vivian与特定VIP客户的'私人服务'时间安排,为循环五Vivian线索埋设伏笔"
                                },
                                {
                                    "asset_id": "SC303_environment_325",
                                    "evidence_number": "证据325",
                                    "category": "环境叙事",
                                    "name": "Tommy全家福",
                                    "description": "Tommy办公室桌上照片,照片中Tommy把妻儿环抱在臂弯里"
                                }
                            ]
                        },
                        {
                            "scene_id": "SC309",
                            "scene_name": "酒吧歌舞厅",
                            "evidences": [
                                {
                                    "asset_id": "SC309_clue_331",
                                    "evidence_number": "证据331",
                                    "category": "现场线索",
                                    "name": "酒吧歌舞厅现场照片",
                                    "description": "酒吧歌舞厅古董陈列区域,欧洲油画完好摆放原位,与'已售给Coleman'矛盾,否定Tommy'古董已售出'的谎言"
                                },
                                {
                                    "asset_id": "SC309_clue_332",
                                    "evidence_number": "证据332",
                                    "category": "现场线索",
                                    "name": "酒吧歌舞厅现场照片",
                                    "description": "酒吧歌舞厅古董陈列区域,中国花瓶完好摆放原位,与'已售给Thompson'矛盾,否定Tommy'古董已售出'的谎言"
                                }
                            ]
                        },
                        {
                            "scene_id": "SC307",
                            "scene_name": "Vivian的化妆室",
                            "evidences": [
                                {
                                    "asset_id": "SC307_note_341",
                                    "evidence_number": "证据341",
                                    "category": "笔记",
                                    "name": "Vivian的争吵目击证词",
                                    "description": "通过Tommy补充对话获得,Tommy亲耳听到一个人警告Webb'Webb:说什么,别想这么多,多看看我送你的书..另外一个人:你不要接这个生意,会出大事的',然后他们俩就吵了起来"
                                }
                            ]
                        },
                        {
                            "scene_id": "SC301",
                            "scene_name": "Rosa储藏室",
                            "evidences": [
                                {
                                    "asset_id": "SC301_note_351",
                                    "evidence_number": "证据351",
                                    "category": "笔记",
                                    "name": "Rosa关于音乐音量的证词",
                                    "description": "Rosa储藏室与Rosa补充对话获得,'那时候我在清洁,音乐实在太响了,震得我耳朵疼.那种音量下,就算有别的声音我也绝对听不到',从Rosa角度证实11:00时段的音乐掩护效果"
                                }
                            ]
                        },
                        {
                            "scene_id": "SC310",
                            "scene_name": "酒吧大堂",
                            "evidences": [
                                {
                                    "asset_id": "SC310_note_361",
                                    "evidence_number": "证据361",
                                    "category": "笔记",
                                    "name": "Tommy的证词",
                                    "description": "酒吧歌舞厅与Tommy深入对话获得,Jimmy最近曾经将一个水壶放到了厨房,非常的小心翼翼,否定Jimmy说对于古董不知情的说法"
                                }
                            ]
                        }
                    ]
                },
                {
                    "loop_id": 4,
                    "loop_name": "循环4: Jimmy吐露与Webb真实关系与麻烦",
                    "scenes": [
                        {
                            "scene_id": "SC411",
                            "scene_name": "Jimmy的厨房",
                            "evidences": [
                                {
                                    "asset_id": "SC411_item_411",
                                    "evidence_number": "证据411",
                                    "category": "物品",
                                    "name": "伪装成陶泥的古董水壶",
                                    "description": "Jimmy厨房工作台上,表面涂抹泥浆伪装,有意隐藏其价值,需要分析证据,否定Jimmy'不知道是古董,随手拿了破陶器'的盗窃谎言"
                                },
                                {
                                    "asset_id": "SC411_environment_412",
                                    "evidence_number": "证据412",
                                    "category": "环境叙事",
                                    "name": "Jimmy的奖状",
                                    "description": "Jimmy厨房文件夹中拍摄,Jimmy自草的推荐信,高度自我夸奖工作能力和忠诚度,强化Jimmy忠诚员工的形象"
                                },
                                {
                                    "asset_id": "SC411_item_413",
                                    "evidence_number": "证据413",
                                    "category": "物品",
                                    "name": "Jimmy的厨房手套",
                                    "description": "Jimmy厨房工作台挂钩上,厨房专用手套,在手套的指甲缝隙和接缝处,残留着极少量的褐色泥土痕迹,暗示陶泥处理伪装古董"
                                },
                                {
                                    "asset_id": "SC411_clue_414",
                                    "evidence_number": "证据414",
                                    "category": "现场线索",
                                    "name": "厨房的送餐订单",
                                    "description": "Jimmy厨房工作台上,当晚有送餐记录,但是11点左右并没有送餐记录,否定Jimmy说曾经下楼送餐的说法"
                                }
                            ]
                        },
                        {
                            "scene_id": "SC412",
                            "scene_name": "Jimmy家中卧室",
                            "evidences": [
                                {
                                    "asset_id": "SC412_environment_421",
                                    "evidence_number": "证据421",
                                    "category": "环境叙事",
                                    "name": "Jimmy家庭合照",
                                    "description": "Jimmy家中客厅壁炉台上,Jimmy与妻子Anna的温馨合影,写着'我的世界',展现Jimmy的家庭责任感"
                                },
                                {
                                    "asset_id": "SC412_item_422",
                                    "evidence_number": "证据422",
                                    "category": "物品",
                                    "name": "Whale的联系暗号",
                                    "description": "Jimmy家中客厅书架夹层,特殊符号和联系方式,与Morrison处发现的纸条字迹相同,为循环六真相埋设伏笔"
                                },
                                {
                                    "asset_id": "SC412_environment_423",
                                    "evidence_number": "证据423",
                                    "category": "环境叙事",
                                    "name": "Jimmy给Anna的遗书",
                                    "description": "Jimmy家中客厅抽屉深处,'我亲爱的Anna,如果上帝召唤我回家,你要记住我们的约定',预示Jimmy的最终选择"
                                },
                                {
                                    "asset_id": "SC412_item_424",
                                    "evidence_number": "证据424",
                                    "category": "物品",
                                    "name": "虎头额外收入记录",
                                    "description": "Jimmy家中客厅床垫下隐藏,大额现金收入记录,标注'Whale'和具体金额,揭露Jimmy背叛Webb,收取'Whale'贿赂的动机"
                                },
                                {
                                    "asset_id": "SC412_item_425",
                                    "evidence_number": "证据425",
                                    "category": "物品",
                                    "name": "Bennington陶器照片",
                                    "description": "Jimmy家中卧室桌子上,Bennington陶器的照片,与循环3中获取的古董记录册结合,说明该陶器的价值,与证据320合并"
                                },
                                {
                                    "asset_id": "SC412_environment_427",
                                    "evidence_number": "证据427",
                                    "category": "环境叙事",
                                    "name": "破旧的英语学习书籍",
                                    "description": "Jimmy家中客厅,书页边缘写满了拼写练习,'American Dream'被反复练习,体现Jimmy努力融入美国社会的渴望"
                                },
                                {
                                    "asset_id": "SC412_environment_428",
                                    "evidence_number": "证据428",
                                    "category": "环境叙事",
                                    "name": "撕掉的移民申请表",
                                    "description": "Jimmy家中客厅垃圾桶,合法身份申请表被撕成碎片,申请费$1500,显示合法身份对Jimmy家庭的重要性和经济障碍"
                                }
                            ]
                        },
                        {
                            "scene_id": "SC401",
                            "scene_name": "Rosa储物间",
                            "evidences": [
                                {
                                    "asset_id": "SC401_note_442",
                                    "evidence_number": "证据442",
                                    "category": "笔记",
                                    "name": "Jimmy曾经用钥匙进入过Webb会客室",
                                    "description": "Rosa储藏室与Rosa补充对话获得,我曾看到Jimmy用钥匙进入过Webb会客室,但是那里貌似没有任何值钱的东西,Webb的办公室才是值钱的地方"
                                }
                            ]
                        }
                    ]
                },
                {
                    "loop_id": 5,
                    "loop_name": "循环5: Vivian动机指证系统",
                    "scenes": [
                        {
                            "scene_id": "SC507",
                            "scene_name": "Vivian的化妆室",
                            "evidences": [
                                {
                                    "asset_id": "SC507_item_513",
                                    "evidence_number": "证据513",
                                    "category": "物品",
                                    "name": "给Webb的分手信",
                                    "description": "Vivian化妆室化妆台抽屉深处,Vivian亲笔写的分手信,'我已经受够了,我们之间结束了',否定Vivian'我依然深爱Webb,他的死让我很伤心'的爱情谎言"
                                },
                                {
                                    "asset_id": "SC507_item_514",
                                    "evidence_number": "证据514",
                                    "category": "物品",
                                    "name": "撕碎的船票",
                                    "description": "Vivian化妆室垃圾桶中,法国邮轮船票被撕成碎片,船期是下个月,如果真要旅行不会撕毁,需要拼图小玩法,否定Vivian'我们和好了,还计划去法国旅行'的旅行计划谎言"
                                },
                                {
                                    "asset_id": "SC507_item_515",
                                    "evidence_number": "证据515",
                                    "category": "物品",
                                    "name": "Vivian的个人日记片段",
                                    "description": "Webb办公室沙发垫下,'如果有人背叛了我,我会让他遭受世间最痛苦的事情',否定Vivian'我们是和平分手,没有仇恨'的和平分手谎言"
                                },
                                {
                                    "asset_id": "SC507_clue_516",
                                    "evidence_number": "证据516",
                                    "category": "现场线索",
                                    "name": "Vivian工作痛苦记录",
                                    "description": "Vivian化妆室梳妆台便签拍摄,记录与不同客户'服务'的日期和痛苦感受,'我还要忍受多久',展现Vivian被迫从事肮脏工作的内心煎熬"
                                }
                            ]
                        },
                        {
                            "scene_id": "SC503",
                            "scene_name": "Tommy办公室",
                            "evidences": [
                                {
                                    "asset_id": "SC503_clue_531",
                                    "evidence_number": "证据531",
                                    "category": "现场线索",
                                    "name": "舞台演出表的改动申请",
                                    "description": "Tommy办公室后台舞台监督台本,改动申请-将原本11:00的柔和曲目被改为鼓点最强烈的曲目,证明Vivian预先安排了11:00时段的强音乐掩护"
                                }
                            ]
                        },
                        {
                            "scene_id": "SC501",
                            "scene_name": "Rosa储藏室",
                            "evidences": [
                                {
                                    "asset_id": "SC501_note_541",
                                    "evidence_number": "证据541",
                                    "category": "笔记",
                                    "name": "Rosa关于Vivian工作痛苦的目击",
                                    "description": "Rosa储藏室与Rosa补充对话获得,'当天晚上我正在打扫后台,似乎看到vivan小姐从歌舞厅出来向Webb会客室走去了',证明Vivian承受的痛苦"
                                }
                            ]
                        },
                        {
                            "scene_id": "SC510",
                            "scene_name": "酒吧大堂",
                            "evidences": [
                                {
                                    "asset_id": "SC510_note_551",
                                    "evidence_number": "证据551",
                                    "category": "笔记",
                                    "name": "Tommy关于Webb与Rita关系的证词",
                                    "description": "酒吧歌舞厅与Tommy深入对话获得,Tommy确认Webb最近和Rita走得很近,这就是Vivian日记中的'背叛',揭露Webb背叛Vivian的具体原因"
                                }
                            ]
                        }
                    ]
                },
                {
                    "loop_id": 6,
                    "loop_name": "循环6: Jimmy凶手的真相",
                    "scenes": [
                        {
                            "scene_id": "SC604",
                            "scene_name": "Webb会客室",
                            "evidences": [
                                {
                                    "asset_id": "SC604_clue_621",
                                    "evidence_number": "证据621",
                                    "category": "现场线索",
                                    "name": "窗外弹孔",
                                    "description": "Webb会客室窗户玻璃拍摄,11:30的枪声可能是故意制造的假象,需要分析证据,否定Jimmy'Webb是11:30死的,我有不在场证明'的时间谎言"
                                }
                            ]
                        },
                        {
                            "scene_id": "SC609",
                            "scene_name": "酒吧歌舞厅",
                            "evidences": [
                                {
                                    "asset_id": "SC609_item_631",
                                    "evidence_number": "证据631",
                                    "category": "物品",
                                    "name": "节目表演记录",
                                    "description": "酒吧歌舞厅后台公告栏,11:00-11:10是舞台鼓点最强烈时段,足以掩盖枪声,否定Jimmy'不可能有其他枪声'的声音掩护谎言"
                                },
                                {
                                    "asset_id": "SC609_item_632",
                                    "evidence_number": "证据632",
                                    "category": "物品",
                                    "name": "舞台道具箱中的手枪",
                                    "description": "酒吧歌舞厅道具箱中,一把手枪,暗示Vivian可能计划用枪杀方式行凶"
                                }
                            ]
                        },
                        {
                            "scene_id": "SC601",
                            "scene_name": "Rosa储藏室",
                            "evidences": [
                                {
                                    "asset_id": "SC601_note_641",
                                    "evidence_number": "证据641",
                                    "category": "笔记",
                                    "name": "Rosa关于Vivian携带可疑物品的证词",
                                    "description": "Rosa储藏室与Rosa深度对话获得,'那天晚上我看到Vivian离开舞台的时候悄悄把什么东西塞进了包里',表示当晚Vivan确实有计划想要杀害Webb"
                                }
                            ]
                        },
                        {
                            "scene_id": "SC607",
                            "scene_name": "Vivan的化妆室",
                            "evidences": [
                                {
                                    "asset_id": "SC607_note_651",
                                    "evidence_number": "证据651",
                                    "category": "笔记",
                                    "name": "当晚去敲Webb的门已锁",
                                    "description": "Vivan的化妆室,'那天晚上我11点05分的时候来到Webb的会客室门口,我们都知道他每天晚上都会在这里喝酒看报纸,平时他都不锁门,但昨天他锁了门,我敲门说向见他,他说今晚不要再来了',表示当晚11点05时候Webb会客室房门锁着"
                                }
                            ]
                        }
                    ]
                }
            ],
            "statistics": {
                "total_loops": 6,
                "total_evidences": 88,
                "evidence_by_category": {
                    "环境叙事": 21,
                    "物品": 43,
                    "现场线索": 16,
                    "笔记": 15
                },
                "evidence_by_loop": {
                    "循环1": 8,
                    "循环2": 13,
                    "循环3": 23,
                    "循环4": 15,
                    "循环5": 12,
                    "循环6": 8
                }
            }
        };

        // 场景ID到编号的映射 (从场景ID提取编号)
        function getSceneNumber(sceneId) {
            const match = sceneId.match(/SC\d(\d{2})/);
            return match ? match[1] : '00';
        }

        // 生成场景背景资产ID
        function generateBackgroundId(sceneId, sceneName) {
            const sceneNum = getSceneNumber(sceneId);
            // 清理场景名称,移除多余的描述
            const cleanName = sceneName.split('/')[0].trim();
            return `SC0${sceneNum}_bg_${cleanName}`;
        }

        let allAssets = [];
        let filteredAssets = [];

        function initializeData() {
            gameData.loops.forEach(loop => {
                loop.scenes.forEach(scene => {
                    // 添加场景背景资产
                    const bgId = generateBackgroundId(scene.scene_id, scene.scene_name);
                    allAssets.push({
                        id: bgId,
                        category: '背景',
                        name: '场景背景',
                        description: `${scene.scene_name}场景背景`,
                        cycleId: loop.loop_id,
                        cycleName: loop.loop_name,
                        sceneId: scene.scene_id,
                        sceneName: scene.scene_name,
                        evidenceNumber: null
                    });

                    // 添加证据资产
                    scene.evidences.forEach(evidence => {
                        allAssets.push({
                            id: evidence.asset_id,
                            category: evidence.category,
                            name: evidence.name,
                            description: evidence.description,
                            cycleId: loop.loop_id,
                            cycleName: loop.loop_name,
                            sceneId: scene.scene_id,
                            sceneName: scene.scene_name,
                            evidenceNumber: evidence.evidence_number.replace('证据', '')
                        });
                    });
                });
            });

            filteredAssets = [...allAssets];
            updateStats();
        }

        function populateCycleFilter() {
            const cycleFilter = document.getElementById('cycleFilter');
            cycleFilter.innerHTML = '<option value="all">全部循环</option>';

            gameData.loops.forEach(loop => {
                const option = document.createElement('option');
                option.value = loop.loop_id;
                option.textContent = loop.loop_name;
                cycleFilter.appendChild(option);
            });
        }

        function populateSceneFilter() {
            const sceneFilter = document.getElementById('sceneFilter');
            const cycleFilter = document.getElementById('cycleFilter');
            const selectedCycle = cycleFilter.value;

            sceneFilter.innerHTML = '<option value="all">全部场景</option>';

            const scenes = new Set();
            allAssets.forEach(asset => {
                if (selectedCycle === 'all' || asset.cycleId == selectedCycle) {
                    scenes.add(JSON.stringify({id: asset.sceneId, name: asset.sceneName}));
                }
            });

            Array.from(scenes)
                .map(s => JSON.parse(s))
                .sort((a, b) => a.id.localeCompare(b.id))
                .forEach(scene => {
                    const option = document.createElement('option');
                    option.value = JSON.stringify({id: scene.id, name: scene.name});
                    option.textContent = `${scene.id} - ${scene.name}`;
                    sceneFilter.appendChild(option);
                });
        }

        function filterAssets() {
            const cycleFilter = document.getElementById('cycleFilter').value;
            const sceneFilter = document.getElementById('sceneFilter').value;
            const categoryFilter = document.getElementById('categoryFilter').value;

            filteredAssets = allAssets.filter(asset => {
                const cycleMatch = cycleFilter === 'all' || asset.cycleId == cycleFilter;

                let sceneMatch = sceneFilter === 'all';
                if (!sceneMatch && sceneFilter !== 'all') {
                    try {
                        const selectedScene = JSON.parse(sceneFilter);
                        sceneMatch = asset.sceneId === selectedScene.id && asset.sceneName === selectedScene.name;
                    } catch (e) {
                        sceneMatch = false;
                    }
                }

                const categoryMatch = categoryFilter === 'all' || asset.category === categoryFilter;

                return cycleMatch && sceneMatch && categoryMatch;
            });

            renderAssets();
            updateStats();
        }

        function renderAssets() {
            const container = document.getElementById('assetsContainer');

            if (filteredAssets.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <p>暂无符合条件的资产</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = filteredAssets.map(asset => `
                <div class="asset-card">
                    <div class="asset-header">
                        <div class="asset-ids">
                            ${asset.category !== '背景' ? `
                            <div class="id-row">
                                <span class="id-label">场景小图</span>
                                <div class="asset-id-small" onclick="copyToClipboard('${asset.id}')" title="点击复制">
                                    ${asset.id}
                                </div>
                            </div>
                            <div class="id-row">
                                <span class="id-label">大图版本</span>
                                <div class="asset-id-big" onclick="copyToClipboard('${asset.id}_big')" title="点击复制">
                                    ${asset.id}_big
                                </div>
                            </div>
                            <div class="id-row">
                                <span class="id-label">UI图标</span>
                                <div class="asset-id-icon" onclick="copyToClipboard('${asset.id}_icon')" title="点击复制">
                                    ${asset.id}_icon
                                </div>
                            </div>
                            ` : `
                            <div class="id-row">
                                <span class="id-label">场景背景</span>
                                <div class="asset-id" onclick="copyToClipboard('${asset.id}')" title="点击复制">
                                    ${asset.id}
                                </div>
                            </div>
                            `}
                        </div>
                        <span class="asset-category category-${asset.category}">
                            ${asset.category}
                        </span>
                    </div>
                    <div class="asset-details">
                        <div class="detail-row">
                            <span class="detail-label">循环</span>
                            <span class="detail-value">${asset.cycleName}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">场景</span>
                            <span class="detail-value">${asset.sceneId} - ${asset.sceneName}</span>
                        </div>
                        ${asset.name ? `
                        <div class="detail-row">
                            <span class="detail-label">名称</span>
                            <span class="detail-value">${asset.name}</span>
                        </div>
                        ` : ''}
                        ${asset.description ? `
                        <div class="detail-row">
                            <span class="detail-label">描述</span>
                            <span class="detail-value">${asset.description}</span>
                        </div>
                        ` : ''}
                        ${asset.evidenceNumber ? `
                        <div class="detail-row">
                            <span class="detail-label">证据编号</span>
                            <span class="detail-value">证据${asset.evidenceNumber}</span>
                        </div>
                        ` : ''}
                    </div>
                </div>
            `).join('');
        }

        function updateStats() {
            const cycleFilter = document.getElementById('cycleFilter');
            const sceneFilter = document.getElementById('sceneFilter');

            document.getElementById('currentCount').textContent = filteredAssets.length;
            document.getElementById('totalCount').textContent = allAssets.length;

            const cycleText = cycleFilter.options[cycleFilter.selectedIndex].text;
            document.getElementById('currentCycle').textContent =
                cycleText === '全部循环' ? '全部' : cycleText.split(':')[0];

            document.getElementById('currentScene').textContent =
                sceneFilter.value === 'all' ? '全部' : sceneFilter.options[sceneFilter.selectedIndex].text.split(' - ')[1];
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showToast();
            });
        }

        function showToast() {
            const toast = document.getElementById('toast');
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 2000);
        }

        document.getElementById('cycleFilter').addEventListener('change', () => {
            populateSceneFilter();
            filterAssets();
        });

        document.getElementById('sceneFilter').addEventListener('change', filterAssets);
        document.getElementById('categoryFilter').addEventListener('change', filterAssets);

        // 初始化
        initializeData();
        populateCycleFilter();
        populateSceneFilter();
        renderAssets();
    </script>
</body>
</html>
