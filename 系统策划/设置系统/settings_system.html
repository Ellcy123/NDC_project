<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NDC - è®¾ç½®ç³»ç»Ÿ</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Noto+Serif+SC:wght@400;600;700&family=Special+Elite&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #0a0808;
            color: #e8e4d9;
            font-family: 'Noto Serif SC', serif;
            min-height: 100vh;
            overflow: hidden;
            position: relative;
        }

        /* èƒŒæ™¯åœºæ™¯ */
        .scene-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a1510 0%, #0d0a08 50%, #151210 100%);
            z-index: 0;
        }

        .scene-background::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 70%;
            height: 100%;
            background: radial-gradient(ellipse at 70% 50%, rgba(139,35,35,0.12) 0%, transparent 60%);
        }

        /* å™ªç‚¹çº¹ç† */
        .noise-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
            opacity: 0.05;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
        }

        /* ä¸»å®¹å™¨ */
        .main-container {
            display: flex;
            height: 100vh;
            position: relative;
            z-index: 10;
        }

        /* å·¦ä¾§è®¾ç½®é¢æ¿ */
        .settings-panel {
            width: 420px;
            background: linear-gradient(180deg,
                rgba(245,235,220,0.98) 0%,
                rgba(235,225,205,0.95) 50%,
                rgba(220,210,190,0.92) 100%
            );
            position: relative;
            display: flex;
            flex-direction: column;
            box-shadow: 10px 0 40px rgba(0,0,0,0.5);
        }

        .settings-panel::after {
            content: '';
            position: absolute;
            top: 0;
            right: -15px;
            width: 15px;
            height: 100%;
            background: linear-gradient(90deg,
                rgba(245,235,220,0.9) 0%,
                rgba(245,235,220,0.6) 30%,
                rgba(245,235,220,0.3) 60%,
                transparent 100%
            );
            z-index: 2;
        }

        .panel-content {
            position: relative;
            z-index: 5;
            padding: 30px 25px;
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        /* æ¸¸æˆæ ‡é¢˜ */
        .game-title {
            margin-bottom: 20px;
        }

        .game-title h1 {
            font-family: 'Cinzel', serif;
            font-size: 2.2em;
            font-weight: 900;
            color: #1a1510;
            letter-spacing: 2px;
            line-height: 1;
            position: relative;
            display: inline-block;
        }

        .game-title h1::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            width: 100%;
            height: 4px;
            background: #8B2323;
        }

        .game-title .subtitle {
            font-family: 'Special Elite', cursive;
            font-size: 0.7em;
            color: #8B2323;
            letter-spacing: 3px;
            margin-top: 5px;
        }

        /* å°ç« è£…é¥° */
        .stamp-decoration {
            position: absolute;
            top: 25px;
            right: 25px;
            width: 65px;
            height: 65px;
            border: 3px solid rgba(139,35,35,0.4);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transform: rotate(-15deg);
            opacity: 0.6;
        }

        .stamp-decoration span {
            font-family: 'Special Elite', cursive;
            font-size: 0.55em;
            color: rgba(139,35,35,0.6);
            text-align: center;
            line-height: 1.2;
        }

        /* èœå•é€‰é¡¹ */
        .menu-options {
            margin-bottom: 20px;
        }

        .menu-item {
            font-family: 'Noto Serif SC', serif;
            font-size: 1.2em;
            color: #2a2520;
            padding: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .menu-item:hover {
            color: #8B2323;
            padding-left: 10px;
        }

        .menu-item.active {
            color: #fff;
            background: linear-gradient(90deg, #8B2323, #6a1a1a);
            padding: 10px 15px;
            margin: 3px -25px;
            padding-left: 35px;
        }

        .menu-item.active::before {
            content: 'â–¶';
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.7em;
        }

        /* æœ‰ä¿®æ”¹æ—¶çš„ä¿å­˜æŒ‰é’®æ ·å¼ */
        .menu-item.active.has-changes {
            background: linear-gradient(90deg, #c9a030, #a08020);
            animation: pulse-glow 2s ease-in-out infinite;
        }

        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 5px rgba(201, 160, 48, 0.3); }
            50% { box-shadow: 0 0 15px rgba(201, 160, 48, 0.6); }
        }

        /* å¿«æ·é”®æç¤º */
        .hotkey-hints {
            margin: 15px 0;
            padding: 12px 0;
            border-top: 1px dashed #c0b0a0;
            border-bottom: 1px dashed #c0b0a0;
        }

        .hotkey-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 8px 0;
            font-size: 0.85em;
            color: #4a4540;
        }

        .hotkey-key {
            background: #2a2520;
            color: #e8e4d9;
            padding: 4px 10px;
            border-radius: 4px;
            font-family: 'Special Elite', cursive;
            font-size: 0.85em;
            min-width: 38px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        /* è®¾ç½®é¡¹ */
        .settings-section {
            margin-top: 5px;
        }

        .setting-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 12px 0;
        }

        .setting-label {
            font-size: 0.9em;
            color: #3a3530;
            letter-spacing: 1px;
        }

        /* é€‰æ‹©å™¨æ ·å¼ */
        .selector {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .selector-arrow {
            color: #8B2323;
            font-size: 1.1em;
            cursor: pointer;
            user-select: none;
            transition: transform 0.2s;
            padding: 2px 5px;
        }

        .selector-arrow:hover {
            transform: scale(1.2);
        }

        .selector-value {
            color: #8B2323;
            font-weight: 600;
            min-width: 90px;
            text-align: center;
            font-size: 0.9em;
        }

        /* å¼€å…³æ ·å¼ */
        .toggle-group {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .toggle-option {
            color: #8B2323;
            font-weight: 600;
            cursor: pointer;
            padding: 3px 8px;
            border-radius: 3px;
            transition: all 0.3s;
            font-size: 0.9em;
        }

        .toggle-option.active {
            background: #8B2323;
            color: #fff;
        }

        /* æ»‘å—æ ·å¼ */
        .slider-container {
            flex: 1;
            max-width: 180px;
            position: relative;
            height: 20px;
            display: flex;
            align-items: center;
        }

        .slider-track {
            width: 100%;
            height: 3px;
            background: #c0b0a0;
            border-radius: 2px;
            position: relative;
        }

        .slider-fill {
            height: 100%;
            background: #8B2323;
            border-radius: 2px;
            transition: width 0.1s;
        }

        .slider-thumb {
            position: absolute;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 12px;
            height: 12px;
            background: #8B2323;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        /* ç¤¾äº¤é“¾æ¥ */
        .social-links {
            margin-top: auto;
            padding-top: 15px;
            border-top: 1px solid #c0b0a0;
        }

        .social-title {
            font-size: 0.75em;
            color: #8a7a6a;
            margin-bottom: 10px;
            letter-spacing: 2px;
        }

        .social-icons {
            display: flex;
            gap: 12px;
        }

        .social-icon {
            width: 34px;
            height: 34px;
            background: #2a2520;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1em;
        }

        .social-icon:hover {
            background: #8B2323;
            transform: translateY(-2px);
        }

        /* å³ä¾§åœºæ™¯åŒºåŸŸ */
        .scene-area {
            flex: 1;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* åœºæ™¯è£…é¥° */
        .scene-decoration {
            position: absolute;
            top: 20px;
            right: 30px;
            text-align: right;
        }

        .scene-decoration .progress-text {
            font-family: 'Special Elite', cursive;
            font-size: 0.85em;
            color: #8B2323;
            letter-spacing: 2px;
            text-decoration: underline;
        }

        .scene-decoration .progress-value {
            font-family: 'Cinzel', serif;
            font-size: 1.1em;
            color: #d4af37;
            margin-left: 12px;
        }

        .objectives-panel {
            position: absolute;
            top: 55px;
            right: 30px;
            width: 180px;
        }

        .objectives-title {
            font-family: 'Special Elite', cursive;
            font-size: 0.8em;
            color: #d4af37;
            letter-spacing: 2px;
            margin-bottom: 8px;
        }

        .objective-item {
            font-size: 0.75em;
            color: rgba(232,228,217,0.5);
            margin: 4px 0;
            padding-left: 12px;
            position: relative;
        }

        .objective-item::before {
            content: 'â—‹';
            position: absolute;
            left: 0;
            color: #8B2323;
            font-size: 0.8em;
        }

        .objective-item.completed::before {
            content: 'â—';
            color: #4caf50;
        }

        /* çº¢è‰²åœ†åœˆè£…é¥° */
        .red-circle {
            position: absolute;
            border: 2px solid rgba(139,35,35,0.25);
            border-radius: 50%;
            pointer-events: none;
        }

        .red-circle-1 {
            width: 120px;
            height: 120px;
            bottom: 18%;
            left: 48%;
        }

        .red-circle-2 {
            width: 60px;
            height: 60px;
            top: 62%;
            right: 8%;
        }

        /* ç­–åˆ’æ¡ˆæŒ‰é’® */
        .doc-button {
            position: fixed;
            bottom: 25px;
            right: 25px;
            z-index: 100;
        }

        .doc-btn {
            background: linear-gradient(180deg, #1a3a5a, #0a2a4a);
            color: #5aafe8;
            border: 2px solid #3a7aba;
            padding: 12px 25px;
            font-family: 'Noto Serif SC', serif;
            font-size: 0.95em;
            cursor: pointer;
            border-radius: 5px;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }

        .doc-btn:hover {
            background: linear-gradient(180deg, #2a4a6a, #1a3a5a);
            box-shadow: 0 5px 30px rgba(90,175,232,0.4);
            transform: translateY(-2px);
        }

        /* è¯­è¨€ç¡®è®¤å¼¹çª— */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .modal-overlay.active {
            display: flex;
        }

        .language-modal {
            background: linear-gradient(180deg, #8B2323, #5a1515);
            padding: 25px 45px;
            border-radius: 5px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }

        .language-modal h3 {
            font-family: 'Noto Serif SC', serif;
            font-size: 1.1em;
            color: #fff;
            margin-bottom: 5px;
        }

        .language-modal .cn-text {
            font-size: 0.95em;
            color: rgba(255,255,255,0.8);
            margin-bottom: 20px;
        }

        .modal-buttons {
            display: flex;
            gap: 25px;
            justify-content: center;
        }

        .modal-btn {
            font-family: 'Cinzel', serif;
            font-size: 1em;
            color: #d4af37;
            background: none;
            border: none;
            cursor: pointer;
            padding: 5px 12px;
            transition: all 0.3s;
        }

        .modal-btn:hover {
            color: #fff;
            text-shadow: 0 0 10px rgba(212,175,55,0.5);
        }

        /* ç­–åˆ’æ¡ˆå¼¹çª— */
        .doc-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 3000;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .doc-modal.active {
            display: flex;
        }

        .doc-content {
            width: 92%;
            max-width: 1100px;
            max-height: 92vh;
            background: linear-gradient(180deg, #1a1815 0%, #0f0c0a 100%);
            border: 2px solid #8b7355;
            border-radius: 10px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .doc-header {
            background: linear-gradient(90deg, #8b7355, #5a4a3a);
            padding: 18px 28px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .doc-header h2 {
            font-family: 'Noto Serif SC', serif;
            font-size: 1.3em;
            color: #1a1510;
        }

        .doc-close {
            width: 36px;
            height: 36px;
            background: rgba(0,0,0,0.3);
            border: none;
            border-radius: 50%;
            color: #1a1510;
            font-size: 1.4em;
            cursor: pointer;
            transition: all 0.3s;
        }

        .doc-close:hover {
            background: rgba(0,0,0,0.5);
        }

        .doc-body {
            flex: 1;
            overflow-y: auto;
            padding: 25px;
        }

        /* ç­–åˆ’æ¡ˆå†…å®¹æ ·å¼ */
        .doc-section {
            margin-bottom: 30px;
        }

        .doc-section h3 {
            font-size: 1.15em;
            color: #d4af37;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 2px solid #5a4a3a;
        }

        .doc-section h4 {
            font-size: 0.95em;
            color: #c9a86c;
            margin: 12px 0 8px;
        }

        .doc-section p, .doc-section li {
            color: #a09080;
            line-height: 1.7;
            margin-bottom: 8px;
            font-size: 0.9em;
        }

        .doc-section ul {
            margin-left: 18px;
        }

        .doc-section strong {
            color: #e8e4d9;
        }

        .doc-table {
            width: 100%;
            border-collapse: collapse;
            margin: 12px 0;
            font-size: 0.85em;
        }

        .doc-table th {
            background: rgba(139,115,85,0.3);
            color: #d4af37;
            padding: 10px;
            text-align: left;
            border: 1px solid #5a4a3a;
        }

        .doc-table td {
            padding: 10px;
            border: 1px solid #3a2a20;
            color: #a09080;
        }

        .highlight-box {
            background: rgba(212,175,55,0.1);
            border: 1px solid #d4af37;
            border-radius: 5px;
            padding: 12px;
            margin: 12px 0;
        }

        .highlight-box h5 {
            color: #d4af37;
            margin-bottom: 6px;
            font-size: 0.9em;
        }

        .highlight-box p {
            color: #c9a86c;
            margin: 0;
            font-size: 0.85em;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 12px;
            margin: 12px 0;
        }

        .feature-card {
            background: rgba(30,25,20,0.8);
            border: 1px solid #5a4a3a;
            border-radius: 5px;
            padding: 12px;
        }

        .feature-card h5 {
            color: #d4af37;
            font-size: 0.9em;
            margin-bottom: 6px;
        }

        .feature-card p {
            color: #8b7a6a;
            font-size: 0.8em;
            margin: 0;
            line-height: 1.5;
        }

        /* Tabå¯¼èˆª */
        .doc-tabs {
            display: flex;
            border-bottom: 2px solid #3a2a20;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .doc-tab {
            padding: 10px 18px;
            color: #8b7355;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            margin-bottom: -2px;
            transition: all 0.3s;
            font-size: 0.9em;
        }

        .doc-tab:hover {
            color: #c9a86c;
        }

        .doc-tab.active {
            color: #d4af37;
            border-bottom-color: #d4af37;
        }

        .doc-tab-content {
            display: none;
        }

        .doc-tab-content.active {
            display: block;
        }

        /* å­˜æ¡£ç•Œé¢æ ·å¼ */
        .save-load-content {
            width: 90%;
            max-width: 700px;
            max-height: 85vh;
            background: linear-gradient(180deg, #1a1815 0%, #0f0c0a 100%);
            border: 2px solid #8b7355;
            border-radius: 10px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .save-load-header {
            background: linear-gradient(90deg, #6B1C1C, #4a1515);
            padding: 18px 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .save-load-header h2 {
            font-family: 'Noto Serif SC', serif;
            font-size: 1.2em;
            color: #fff;
        }

        .modal-close-btn {
            width: 32px;
            height: 32px;
            background: rgba(0,0,0,0.3);
            border: none;
            border-radius: 50%;
            color: #fff;
            font-size: 1.3em;
            cursor: pointer;
            transition: all 0.3s;
        }

        .modal-close-btn:hover {
            background: rgba(0,0,0,0.5);
        }

        .save-load-body {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }

        /* å­˜æ¡£æ§½ä½ */
        .save-slot {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: rgba(30,25,20,0.8);
            border: 2px solid #3a2a20;
            border-radius: 8px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .save-slot:hover {
            border-color: #8b7355;
            background: rgba(40,35,30,0.9);
        }

        .save-slot.selected {
            border-color: #d4af37;
            box-shadow: 0 0 15px rgba(212,175,55,0.3);
        }

        .save-slot.auto-save {
            border-color: #4a6a4a;
        }

        .save-slot.auto-save:hover {
            border-color: #6a9a6a;
        }

        .save-slot.empty {
            opacity: 0.5;
        }

        .save-slot.empty:hover {
            opacity: 0.7;
        }

        .slot-thumbnail {
            width: 80px;
            height: 50px;
            background: #1a1510;
            border: 1px solid #5a4a3a;
            border-radius: 4px;
            overflow: hidden;
            flex-shrink: 0;
        }

        .thumbnail-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Special Elite', cursive;
            font-size: 0.9em;
            color: #8b7355;
            background: linear-gradient(135deg, #2a2520 0%, #1a1510 100%);
        }

        .thumbnail-placeholder.empty {
            color: #555;
        }

        .slot-info {
            flex: 1;
        }

        .slot-title {
            font-size: 1em;
            color: #d4af37;
            margin-bottom: 4px;
        }

        .slot-title.empty {
            color: #666;
        }

        .slot-chapter {
            font-size: 0.9em;
            color: #a09080;
            margin-bottom: 6px;
        }

        .slot-chapter.empty {
            color: #555;
            font-style: italic;
        }

        .slot-details {
            display: flex;
            gap: 20px;
            font-size: 0.75em;
            color: #6a5a4a;
        }

        .slot-status {
            font-family: 'Special Elite', cursive;
            font-size: 0.75em;
            color: #8b7355;
            padding: 4px 10px;
            border: 1px solid #5a4a3a;
            border-radius: 3px;
            flex-shrink: 0;
        }

        .slot-status.auto {
            color: #6a9a6a;
            border-color: #4a6a4a;
        }

        .slot-status.empty {
            color: #555;
            border-color: #333;
        }

        .save-load-footer {
            padding: 15px 20px;
            border-top: 1px solid #3a2a20;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .footer-hint {
            font-size: 0.8em;
            color: #6a5a4a;
        }

        .footer-buttons {
            display: flex;
            gap: 12px;
        }

        .sl-btn {
            padding: 10px 25px;
            font-family: 'Noto Serif SC', serif;
            font-size: 0.9em;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .sl-btn.cancel {
            background: linear-gradient(180deg, #3a3025, #252015);
            color: #a09080;
            border: 1px solid #5a4a3a;
        }

        .sl-btn.cancel:hover {
            background: linear-gradient(180deg, #4a4035, #352a20);
            color: #c9a86c;
        }

        .sl-btn.load {
            background: linear-gradient(180deg, #8B2323, #5a1515);
            color: #fff;
            border: 2px solid #aa4040;
        }

        .sl-btn.load:hover:not(:disabled) {
            background: linear-gradient(180deg, #9B3333, #6a2525);
            box-shadow: 0 0 15px rgba(139,35,35,0.5);
        }

        .sl-btn.load:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }

        /* ç¡®è®¤å¼¹çª— */
        .confirm-modal {
            background: linear-gradient(180deg, #1a1815, #0f0c0a);
            border: 2px solid #8b7355;
            border-radius: 10px;
            padding: 30px 40px;
            text-align: center;
            max-width: 450px;
        }

        .confirm-modal h3 {
            color: #d4af37;
            font-size: 1.1em;
            margin-bottom: 15px;
        }

        .confirm-modal p {
            color: #a09080;
            font-size: 0.9em;
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .confirm-modal .confirm-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }
    </style>
</head>
<body>
    <div class="scene-background"></div>
    <div class="noise-overlay"></div>

    <!-- è£…é¥°å…ƒç´  -->
    <div class="red-circle red-circle-1"></div>
    <div class="red-circle red-circle-2"></div>

    <div class="main-container">
        <!-- å·¦ä¾§è®¾ç½®é¢æ¿ -->
        <div class="settings-panel">
            <div class="panel-content">
                <!-- æ¸¸æˆæ ‡é¢˜ -->
                <div class="game-title">
                    <h1>NDC</h1>
                    <div class="subtitle">STORY-DRIVEN DETECTIVE</div>
                </div>

                <!-- å°ç« è£…é¥° -->
                <div class="stamp-decoration">
                    <span>INTERACTIVE<br>NOIR</span>
                </div>

                <!-- ä¸»èœå•é€‰é¡¹ -->
                <div class="menu-options">
                    <div class="menu-item active" id="resumeBtn" onclick="resumeGame()">ç»§ç»­æ¸¸æˆ</div>
                    <div class="menu-item" onclick="openCaseReview()">æ¡ˆæƒ…å›é¡¾</div>
                    <div class="menu-item" onclick="showMessage('è¿”å›ä¸»èœå•')">è¿”å›ä¸»èœå•</div>
                </div>

                
                <!-- è®¾ç½®é¡¹ -->
                <div class="settings-section">
                    <!-- éš¾åº¦ -->
                    <div class="setting-row">
                        <span class="setting-label">éš¾åº¦</span>
                        <div class="selector">
                            <span class="selector-arrow" onclick="changeDifficulty(-1)">&lt;</span>
                            <span class="selector-value" id="difficultyValue">ä¸“å®¶æ¨¡å¼</span>
                            <span class="selector-arrow" onclick="changeDifficulty(1)">&gt;</span>
                        </div>
                    </div>

                    <!-- è¯­è¨€ -->
                    <div class="setting-row">
                        <span class="setting-label">è¯­è¨€</span>
                        <div class="selector">
                            <span class="selector-arrow" onclick="changeLanguage(-1)">&lt;</span>
                            <span class="selector-value" id="languageValue">è‹±è¯­</span>
                            <span class="selector-arrow" onclick="changeLanguage(1)">&gt;</span>
                        </div>
                    </div>

                    <!-- å­—å¹• -->
                    <div class="setting-row">
                        <span class="setting-label">å­—å¹•</span>
                        <div class="toggle-group">
                            <span class="toggle-option active" onclick="toggleSubtitles(true)">å¼€</span>
                            <span class="toggle-option" onclick="toggleSubtitles(false)">å…³</span>
                        </div>
                    </div>

                    <!-- å­—å¹•å¤§å° -->
                    <div class="setting-row">
                        <span class="setting-label">å­—å¹•å¤§å°</span>
                        <div class="selector">
                            <span class="selector-arrow" onclick="changeSize(-1)">&lt;</span>
                            <span class="selector-value" id="sizeValue">ä¸­</span>
                            <span class="selector-arrow" onclick="changeSize(1)">&gt;</span>
                        </div>
                    </div>

                    <!-- éŸ³ä¹éŸ³æ•ˆ -->
                    <div class="setting-row">
                        <span class="setting-label">éŸ³ä¹éŸ³æ•ˆ</span>
                        <div class="slider-container" id="musicSlider">
                            <div class="slider-track">
                                <div class="slider-fill" style="width: 60%"></div>
                            </div>
                            <div class="slider-thumb" style="left: 60%"></div>
                        </div>
                    </div>

                    <!-- è¯­éŸ³ -->
                    <div class="setting-row">
                        <span class="setting-label">è¯­éŸ³</span>
                        <div class="slider-container" id="voiceSlider">
                            <div class="slider-track">
                                <div class="slider-fill" style="width: 70%"></div>
                            </div>
                            <div class="slider-thumb" style="left: 70%"></div>
                        </div>
                    </div>

                    <!-- äº®åº¦ -->
                    <div class="setting-row">
                        <span class="setting-label">äº®åº¦</span>
                        <div class="slider-container" id="brightnessSlider">
                            <div class="slider-track">
                                <div class="slider-fill" style="width: 80%"></div>
                            </div>
                            <div class="slider-thumb" style="left: 80%"></div>
                        </div>
                    </div>

                    <!-- åˆ†éš”çº¿ -->
                    <div style="border-top: 1px dashed #c0b0a0; margin: 15px 0;"></div>

                    <!-- å±å¹•æ¯”ä¾‹ -->
                    <div class="setting-row">
                        <span class="setting-label">å±å¹•æ¯”ä¾‹</span>
                        <div class="selector">
                            <span class="selector-arrow" onclick="changeAspectRatio(-1)">&lt;</span>
                            <span class="selector-value" id="aspectRatioValue">16:9</span>
                            <span class="selector-arrow" onclick="changeAspectRatio(1)">&gt;</span>
                        </div>
                    </div>

                    <!-- æ˜¾ç¤ºæ¨¡å¼ -->
                    <div class="setting-row">
                        <span class="setting-label">æ˜¾ç¤ºæ¨¡å¼</span>
                        <div class="selector">
                            <span class="selector-arrow" onclick="changeDisplayMode(-1)">&lt;</span>
                            <span class="selector-value" id="displayModeValue">å…¨å±</span>
                            <span class="selector-arrow" onclick="changeDisplayMode(1)">&gt;</span>
                        </div>
                    </div>
                </div>

                <!-- ç¤¾äº¤é“¾æ¥ -->
                <div class="social-links">
                    <div class="social-title">å…³æ³¨æˆ‘ä»¬</div>
                    <div class="social-icons">
                        <div class="social-icon" title="Steam">ğŸ®</div>
                        <div class="social-icon" title="YouTube">â–¶</div>
                        <div class="social-icon" title="Discord">ğŸ’¬</div>
                        <div class="social-icon" title="X">ğ•</div>
                        <div class="social-icon" title="Instagram">ğŸ“·</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- å³ä¾§åœºæ™¯åŒºåŸŸ -->
        <div class="scene-area">
        </div>
    </div>

    <!-- ç­–åˆ’æ¡ˆæŒ‰é’® -->
    <div class="doc-button">
        <button class="doc-btn" onclick="openDoc()">
            ğŸ“‹ æŸ¥çœ‹ç­–åˆ’æ¡ˆ
        </button>
    </div>

    <!-- å­˜æ¡£ç•Œé¢å¼¹çª— -->
    <div class="modal-overlay" id="saveLoadModal">
        <div class="save-load-content">
            <div class="save-load-header">
                <h2>è¯»å–å­˜æ¡£</h2>
                <button class="modal-close-btn" onclick="closeSaveLoad()">Ã—</button>
            </div>
            <div class="save-load-body">
                <!-- è‡ªåŠ¨å­˜æ¡£ -->
                <div class="save-slot auto-save" onclick="selectSlot(0)">
                    <div class="slot-thumbnail">
                        <div class="thumbnail-placeholder">AUTO</div>
                    </div>
                    <div class="slot-info">
                        <div class="slot-title">è‡ªåŠ¨å­˜æ¡£</div>
                        <div class="slot-chapter">ç¬¬äºŒç«  - å¾ªç¯3</div>
                        <div class="slot-details">
                            <span>æ¸¸æˆæ—¶é•¿: 02:35:18</span>
                            <span>2025/12/01 14:32</span>
                        </div>
                    </div>
                    <div class="slot-status auto">AUTO</div>
                </div>

                <!-- æ‰‹åŠ¨å­˜æ¡£æ§½ä½ -->
                <div class="save-slot has-data" onclick="selectSlot(1)">
                    <div class="slot-thumbnail">
                        <div class="thumbnail-placeholder">01</div>
                    </div>
                    <div class="slot-info">
                        <div class="slot-title">å­˜æ¡£ 1</div>
                        <div class="slot-chapter">ç¬¬äºŒç«  - æ®‹é…·çš„èº«ä»½ç¡®è®¤</div>
                        <div class="slot-details">
                            <span>æ¸¸æˆæ—¶é•¿: 01:45:22</span>
                            <span>2025/11/30 22:15</span>
                        </div>
                    </div>
                    <div class="slot-status">SLOT 1</div>
                </div>

                <div class="save-slot has-data" onclick="selectSlot(2)">
                    <div class="slot-thumbnail">
                        <div class="thumbnail-placeholder">02</div>
                    </div>
                    <div class="slot-info">
                        <div class="slot-title">å­˜æ¡£ 2</div>
                        <div class="slot-chapter">ç¬¬ä¸€ç«  - RosaæŒ‡è¯å®Œæˆ</div>
                        <div class="slot-details">
                            <span>æ¸¸æˆæ—¶é•¿: 00:42:15</span>
                            <span>2025/11/28 19:08</span>
                        </div>
                    </div>
                    <div class="slot-status">SLOT 2</div>
                </div>

                <div class="save-slot empty" onclick="selectSlot(3)">
                    <div class="slot-thumbnail">
                        <div class="thumbnail-placeholder empty">03</div>
                    </div>
                    <div class="slot-info">
                        <div class="slot-title empty">å­˜æ¡£ 3</div>
                        <div class="slot-chapter empty">- ç©º -</div>
                    </div>
                    <div class="slot-status empty">ç©º</div>
                </div>

                <div class="save-slot empty" onclick="selectSlot(4)">
                    <div class="slot-thumbnail">
                        <div class="thumbnail-placeholder empty">04</div>
                    </div>
                    <div class="slot-info">
                        <div class="slot-title empty">å­˜æ¡£ 4</div>
                        <div class="slot-chapter empty">- ç©º -</div>
                    </div>
                    <div class="slot-status empty">ç©º</div>
                </div>

                <div class="save-slot empty" onclick="selectSlot(5)">
                    <div class="slot-thumbnail">
                        <div class="thumbnail-placeholder empty">05</div>
                    </div>
                    <div class="slot-info">
                        <div class="slot-title empty">å­˜æ¡£ 5</div>
                        <div class="slot-chapter empty">- ç©º -</div>
                    </div>
                    <div class="slot-status empty">ç©º</div>
                </div>
            </div>
            <div class="save-load-footer">
                <div class="footer-hint">é€‰æ‹©å­˜æ¡£åç‚¹å‡»"è¯»å–"æŒ‰é’®åŠ è½½æ¸¸æˆè¿›åº¦</div>
                <div class="footer-buttons">
                    <button class="sl-btn cancel" onclick="closeSaveLoad()">å–æ¶ˆ</button>
                    <button class="sl-btn load" id="loadBtn" onclick="loadSelectedSlot()" disabled>è¯»å–</button>
                </div>
            </div>
        </div>
    </div>

    <!-- è¯­è¨€ç¡®è®¤å¼¹çª— -->
    <div class="modal-overlay" id="languageModal">
        <div class="language-modal">
            <h3>Set Language to Chinese?</h3>
            <div class="cn-text">æ˜¯å¦å°†è¯­è¨€è®¾ç½®ä¸ºä¸­æ–‡ï¼Ÿ</div>
            <div class="modal-buttons">
                <button class="modal-btn" onclick="confirmLanguage(true)">[æ˜¯]</button>
                <button class="modal-btn" onclick="confirmLanguage(false)">[å¦]</button>
            </div>
        </div>
    </div>

    <!-- éš¾åº¦åˆ‡æ¢ç¡®è®¤å¼¹çª— -->
    <div class="modal-overlay" id="difficultyModal">
        <div class="language-modal" id="difficultyModalContent">
            <h3 id="difficultyModalTitle">Switch to Normal Mode?</h3>
            <div class="cn-text" id="difficultyModalText">æ˜¯å¦åˆ‡æ¢åˆ°æ™®é€šæ¨¡å¼ï¼Ÿ</div>
            <div class="cn-text" id="difficultyWarning" style="color: #ffcc00; font-size: 0.85em; margin-top: 10px;"></div>
            <div class="modal-buttons">
                <button class="modal-btn" onclick="confirmDifficulty(true)">[æ˜¯]</button>
                <button class="modal-btn" onclick="confirmDifficulty(false)">[å¦]</button>
            </div>
        </div>
    </div>

    <!-- ç­–åˆ’æ¡ˆå¼¹çª— -->
    <div class="doc-modal" id="docModal">
        <div class="doc-content">
            <div class="doc-header">
                <h2>ğŸ“‹ NDC è®¾ç½®ç³»ç»Ÿç­–åˆ’æ¡ˆ</h2>
                <button class="doc-close" onclick="closeDoc()">Ã—</button>
            </div>
            <div class="doc-body">
                <!-- Tabå¯¼èˆª -->
                <div class="doc-tabs">
                    <div class="doc-tab active" onclick="switchTab('overview')">ç³»ç»Ÿæ¦‚è¿°</div>
                    <div class="doc-tab" onclick="switchTab('menu')">ä¸»èœå•</div>
                    <div class="doc-tab" onclick="switchTab('difficulty')">éš¾åº¦ç³»ç»Ÿ</div>
                    <div class="doc-tab" onclick="switchTab('audio')">éŸ³é¢‘è®¾ç½®</div>
                    <div class="doc-tab" onclick="switchTab('subtitle')">å­—å¹•è®¾ç½®</div>
                    <div class="doc-tab" onclick="switchTab('display')">ç”»é¢è®¾ç½®</div>
                    <div class="doc-tab" onclick="switchTab('hotkey')">å¿«æ·é”®</div>
                    <div class="doc-tab" onclick="switchTab('help')">å¸®åŠ©ç³»ç»Ÿ</div>
                </div>

                <!-- ç³»ç»Ÿæ¦‚è¿° -->
                <div class="doc-tab-content active" id="tab-overview">
                    <div class="doc-section">
                        <h3>ä¸€ã€ç³»ç»Ÿæ¦‚è¿°</h3>
                        <p><strong>ç³»ç»Ÿåç§°</strong>ï¼šè®¾ç½®ç³»ç»Ÿï¼ˆSettings & Helpï¼‰</p>
                        <p><strong>ç³»ç»Ÿå®šä½</strong>ï¼šNDCæ¸¸æˆçš„å…¨å±€é…ç½®ç•Œé¢ï¼Œè´Ÿè´£æ¸¸æˆè¿›åº¦ç®¡ç†ã€éš¾åº¦è°ƒæ•´ã€éŸ³è§†é¢‘é…ç½®ã€è¾…åŠ©åŠŸèƒ½è®¾ç½®ç­‰</p>

                        <h4>1.1 å…¥å£æ–¹å¼</h4>
                        <table class="doc-table">
                            <tr>
                                <th>å…¥å£</th>
                                <th>è§¦å‘æ–¹å¼</th>
                                <th>è¯´æ˜</th>
                            </tr>
                            <tr>
                                <td>F1é”®</td>
                                <td>é”®ç›˜å¿«æ·é”®</td>
                                <td>æ¸¸æˆä»»æ„ç•Œé¢å‡å¯è§¦å‘</td>
                            </tr>
                            <tr>
                                <td>æš‚åœèœå•</td>
                                <td>Escé”®</td>
                                <td>æš‚åœæ¸¸æˆåæ˜¾ç¤ºè®¾ç½®å…¥å£</td>
                            </tr>
                            <tr>
                                <td>ä¸»èœå•</td>
                                <td>ç‚¹å‡»"è®¾ç½®"æŒ‰é’®</td>
                                <td>ä»æ¸¸æˆä¸»ç•Œé¢è¿›å…¥</td>
                            </tr>
                        </table>

                        <h4>1.2 ç•Œé¢å¸ƒå±€</h4>
                        <div class="feature-grid">
                            <div class="feature-card">
                                <h5>å·¦ä¾§é¢æ¿</h5>
                                <p>è®¾ç½®é€‰é¡¹åŒºåŸŸï¼Œå¤å¤çº¸å¼ é£æ ¼ï¼ŒåŒ…å«æ‰€æœ‰å¯è°ƒèŠ‚çš„è®¾ç½®é¡¹</p>
                            </div>
                            <div class="feature-card">
                                <h5>å³ä¾§åŒºåŸŸ</h5>
                                <p>æ¸¸æˆåœºæ™¯èƒŒæ™¯ï¼ˆæ¨¡ç³Šå¤„ç†ï¼‰ï¼Œæ˜¾ç¤ºå½“å‰æ¸¸æˆè¿›åº¦å’Œç›®æ ‡</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ä¸»èœå• -->
                <div class="doc-tab-content" id="tab-menu">
                    <div class="doc-section">
                        <h3>äºŒã€ä¸»èœå•é€‰é¡¹</h3>

                        <h4>2.1 ç»§ç»­æ¸¸æˆ</h4>
                        <table class="doc-table">
                            <tr><th>å±æ€§</th><th>è¯´æ˜</th></tr>
                            <tr><td>åŠŸèƒ½</td><td>å…³é—­è®¾ç½®ç•Œé¢ï¼Œè¿”å›å½“å‰æ¸¸æˆè¿›åº¦</td></tr>
                            <tr><td>è§¦å‘æ¡ä»¶</td><td>æ¸¸æˆè¿›è¡Œä¸­æ—¶å¯ç”¨</td></tr>
                            <tr><td>å¿«æ·é”®</td><td>Esc</td></tr>
                            <tr><td>çŠ¶æ€æ˜¾ç¤º</td><td>é»˜è®¤é«˜äº®é€‰ä¸­çŠ¶æ€</td></tr>
                        </table>

                        <h4>2.2 è¯»å–å­˜æ¡£</h4>
                        <table class="doc-table">
                            <tr><th>å±æ€§</th><th>è¯´æ˜</th></tr>
                            <tr><td>åŠŸèƒ½</td><td>æ‰“å¼€å­˜æ¡£åˆ—è¡¨ï¼Œé€‰æ‹©å·²ä¿å­˜çš„æ¸¸æˆè¿›åº¦</td></tr>
                            <tr><td>å­˜æ¡£æ§½ä½</td><td>æœ€å¤š <strong>10ä¸ª</strong> æ‰‹åŠ¨å­˜æ¡£ + <strong>1ä¸ª</strong> è‡ªåŠ¨å­˜æ¡£</td></tr>
                            <tr><td>å­˜æ¡£ä¿¡æ¯</td><td>ç« èŠ‚åç§°ã€å¾ªç¯è¿›åº¦ã€æ¸¸æˆæ—¶é•¿ã€ä¿å­˜æ—¶é—´ã€ç¼©ç•¥å›¾</td></tr>
                            <tr><td>ç©ºæ§½ä½æ˜¾ç¤º</td><td>æ˜¾ç¤º"ç©º"å­—æ ·ï¼Œä¸å¯é€‰æ‹©</td></tr>
                            <tr><td>è¦†ç›–ç¡®è®¤</td><td>"ç¡®å®šè¦è¯»å–æ­¤å­˜æ¡£å—ï¼Ÿå½“å‰æœªä¿å­˜çš„è¿›åº¦å°†ä¸¢å¤±ã€‚"</td></tr>
                        </table>

                        <h4>2.3 è¿”å›ä¸»èœå•</h4>
                        <table class="doc-table">
                            <tr><th>å±æ€§</th><th>è¯´æ˜</th></tr>
                            <tr><td>åŠŸèƒ½</td><td>é€€å‡ºå½“å‰æ¸¸æˆï¼Œè¿”å›æ¸¸æˆä¸»ç•Œé¢</td></tr>
                            <tr><td>ç¡®è®¤å¼¹çª—</td><td>"ç¡®å®šè¦è¿”å›ä¸»èœå•å—ï¼Ÿæœªä¿å­˜çš„è¿›åº¦å°†ä¸¢å¤±ã€‚"</td></tr>
                            <tr><td>é€‰é¡¹</td><td>[ç¡®å®š] / [å–æ¶ˆ]</td></tr>
                        </table>

                        <div class="highlight-box">
                            <h5>å­˜æ¡£æ•°æ®å†…å®¹</h5>
                            <p>ç« èŠ‚IDã€å¾ªç¯IDã€åœºæ™¯IDã€å·²è·å¾—è¯æ®ã€å·²è§£é”åœºæ™¯ã€å¯¹è¯è®°å½•ã€å‰§æƒ…æ ‡è®°ã€æ¸¸æˆæ—¶é•¿ã€ä¿å­˜æ—¶é—´æˆ³ã€åœºæ™¯ç¼©ç•¥å›¾</p>
                        </div>
                    </div>
                </div>

                <!-- éš¾åº¦ç³»ç»Ÿ -->
                <div class="doc-tab-content" id="tab-difficulty">
                    <div class="doc-section">
                        <h3>ä¸‰ã€éš¾åº¦ç³»ç»Ÿ</h3>

                        <h4>3.1 éš¾åº¦é€‰é¡¹</h4>
                        <table class="doc-table">
                            <tr><th>éš¾åº¦</th><th>ä¸­æ–‡æ˜¾ç¤º</th><th>è‹±æ–‡æ˜¾ç¤º</th></tr>
                            <tr><td>æ™®é€š</td><td>æ™®é€šæ¨¡å¼</td><td>NORMAL MODE</td></tr>
                            <tr><td>ä¸“å®¶</td><td>ä¸“å®¶æ¨¡å¼</td><td>EXPERT MODE</td></tr>
                        </table>

                        <h4>3.2 éš¾åº¦å·®å¼‚ - åœºæ™¯æ¢ç´¢</h4>
                        <table class="doc-table">
                            <tr><th>åŠŸèƒ½é¡¹</th><th>æ™®é€šæ¨¡å¼</th><th>ä¸“å®¶æ¨¡å¼</th></tr>
                            <tr><td>çƒ­åŒºæç¤º</td><td>F1é”®é«˜äº®æ˜¾ç¤ºå¯äº¤äº’åŒºåŸŸ</td><td>æ— ä»»ä½•æç¤º</td></tr>
                            <tr><td>çƒ­åŒºå¤§å°</td><td>è¾ƒå¤§ï¼ˆåŠå¾„+20%ï¼‰</td><td>æ ‡å‡†å¤§å°</td></tr>
                            <tr><td>å·²æ”¶é›†æ ‡è®°</td><td>å·²æ”¶é›†ä½ç½®æ˜¾ç¤ºå‹¾é€‰æ ‡è®°</td><td>ä¸æ˜¾ç¤ºæ ‡è®°</td></tr>
                        </table>

                        <h4>3.3 éš¾åº¦å·®å¼‚ - NPCå¯¹è¯</h4>
                        <table class="doc-table">
                            <tr><th>åŠŸèƒ½é¡¹</th><th>æ™®é€šæ¨¡å¼</th><th>ä¸“å®¶æ¨¡å¼</th></tr>
                            <tr><td>å…³é”®è¯é«˜äº®</td><td>å¯æå–å†…å®¹æ˜¾ç¤ºä¸‹åˆ’çº¿</td><td>æ— ä»»ä½•é«˜äº®</td></tr>
                            <tr><td>æå–æç¤º</td><td>æç¤º"æ­¤å†…å®¹å¯æå–"</td><td>æ— æç¤º</td></tr>
                        </table>

                        <h4>3.4 éš¾åº¦å·®å¼‚ - è°ƒæŸ¥æŒ‡è¯</h4>
                        <table class="doc-table">
                            <tr><th>åŠŸèƒ½é¡¹</th><th>æ™®é€šæ¨¡å¼</th><th>ä¸“å®¶æ¨¡å¼</th></tr>
                            <tr><td>çŸ›ç›¾é«˜äº®</td><td>è‡ªåŠ¨é«˜äº®çŸ›ç›¾ç‚¹</td><td>éœ€æ‰‹åŠ¨å¯¹æ¯”å‘ç°</td></tr>
                            <tr><td>æŒ‡è¯æç¤º</td><td>é€‰é”™æ—¶æç¤º"è¯æ®ä¸è¶³"</td><td>ä»…æ˜¾ç¤º"æŒ‡è¯å¤±è´¥"</td></tr>
                            <tr><td>é‡è¯•é™åˆ¶</td><td>æ— é™åˆ¶</td><td>æ¯è½®æœ€å¤š3æ¬¡é”™è¯¯</td></tr>
                        </table>

                        <div class="highlight-box">
                            <h5>éš¾åº¦åˆ‡æ¢è§„åˆ™</h5>
                            <p>æ¸¸æˆä»»æ„é˜¶æ®µå‡å¯åˆ‡æ¢ï¼Œç«‹å³ç”Ÿæ•ˆã€‚ä»ä¸“å®¶åˆ‡æ¢åˆ°æ™®é€šæ—¶ï¼Œå½“å‰ç« èŠ‚æ— æ³•è·å¾—"ä¸“å®¶é€šå…³"æˆå°±ã€‚</p>
                        </div>
                    </div>
                </div>

                <!-- éŸ³é¢‘è®¾ç½® -->
                <div class="doc-tab-content" id="tab-audio">
                    <div class="doc-section">
                        <h3>å››ã€éŸ³é¢‘è®¾ç½®</h3>

                        <h4>4.1 éŸ³ä¹éŸ³æ•ˆ</h4>
                        <table class="doc-table">
                            <tr><th>å±æ€§</th><th>è¯´æ˜</th></tr>
                            <tr><td>æ§åˆ¶æ–¹å¼</td><td>æ»‘å—ï¼ˆ0-100ï¼‰</td></tr>
                            <tr><td>é»˜è®¤å€¼</td><td>70</td></tr>
                            <tr><td>å½±å“å†…å®¹</td><td>èƒŒæ™¯éŸ³ä¹(BGM) + ç¯å¢ƒéŸ³æ•ˆ(SFX)</td></tr>
                            <tr><td>å®æ—¶é¢„è§ˆ</td><td>è°ƒæ•´æ—¶å®æ—¶ç”Ÿæ•ˆ</td></tr>
                        </table>

                        <h4>4.2 éŸ³ä¹ç±»å‹</h4>
                        <table class="doc-table">
                            <tr><th>ç±»å‹</th><th>è¯´æ˜</th><th>é£æ ¼</th></tr>
                            <tr><td>ä¸»èœå•BGM</td><td>æ¸¸æˆä¸»ç•Œé¢</td><td>çˆµå£«é£æ ¼</td></tr>
                            <tr><td>æ¢ç´¢BGM</td><td>åœºæ™¯æ¢ç´¢</td><td>æ‚¬ç–‘æ°›å›´</td></tr>
                            <tr><td>ç´§å¼ BGM</td><td>æŒ‡è¯é˜¶æ®µ</td><td>èŠ‚å¥åŠ å¿«</td></tr>
                            <tr><td>å‰§æƒ…BGM</td><td>å‰§æƒ…åŠ¨ç”»</td><td>æƒ…æ„Ÿæ¸²æŸ“</td></tr>
                        </table>

                        <h4>4.3 éŸ³æ•ˆç±»å‹</h4>
                        <table class="doc-table">
                            <tr><th>ç±»å‹</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr>
                            <tr><td>UIéŸ³æ•ˆ</td><td>ç•Œé¢æ“ä½œåé¦ˆ</td><td>æŒ‰é’®ç‚¹å‡»ã€é¡µé¢åˆ‡æ¢</td></tr>
                            <tr><td>ç¯å¢ƒéŸ³æ•ˆ</td><td>åœºæ™¯æ°›å›´éŸ³</td><td>é›¨å£°ã€è„šæ­¥å£°ã€é’Ÿå£°</td></tr>
                            <tr><td>äº¤äº’éŸ³æ•ˆ</td><td>æ¸¸æˆäº¤äº’åé¦ˆ</td><td>æ‹¾å–è¯æ®ã€å‘ç°çº¿ç´¢</td></tr>
                            <tr><td>å‰§æƒ…éŸ³æ•ˆ</td><td>å‰§æƒ…æ¼”å‡ºéŸ³æ•ˆ</td><td>æªå£°ã€ç»ç’ƒç ´ç¢</td></tr>
                        </table>

                        <h4>4.4 è¯­éŸ³éŸ³é‡</h4>
                        <table class="doc-table">
                            <tr><th>å±æ€§</th><th>è¯´æ˜</th></tr>
                            <tr><td>æ§åˆ¶æ–¹å¼</td><td>æ»‘å—ï¼ˆ0-100ï¼‰</td></tr>
                            <tr><td>é»˜è®¤å€¼</td><td>80</td></tr>
                            <tr><td>å½±å“å†…å®¹</td><td>è§’è‰²é…éŸ³</td></tr>
                            <tr><td>è¯­è¨€</td><td>ä»…è‹±è¯­é…éŸ³</td></tr>
                            <tr><td>è·³è¿‡è®¾ç½®</td><td>å¯æŒ‰Spaceè·³è¿‡å½“å‰è¯­éŸ³</td></tr>
                        </table>
                    </div>
                </div>

                <!-- å­—å¹•è®¾ç½® -->
                <div class="doc-tab-content" id="tab-subtitle">
                    <div class="doc-section">
                        <h3>äº”ã€å­—å¹•è®¾ç½®</h3>

                        <h4>5.1 å­—å¹•å¼€å…³</h4>
                        <table class="doc-table">
                            <tr><th>é€‰é¡¹</th><th>ä¸­æ–‡æ˜¾ç¤º</th><th>è¯´æ˜</th></tr>
                            <tr><td>å¼€å¯</td><td>å¼€</td><td>æ˜¾ç¤ºæ‰€æœ‰è¯­éŸ³å¯¹åº”çš„å­—å¹•</td></tr>
                            <tr><td>å…³é—­</td><td>å…³</td><td>ä¸æ˜¾ç¤ºå­—å¹•</td></tr>
                        </table>

                        <h4>5.2 å­—å¹•å¤§å°</h4>
                        <table class="doc-table">
                            <tr><th>é€‰é¡¹</th><th>ä¸­æ–‡æ˜¾ç¤º</th><th>å­—ä½“å¤§å°</th><th>è¡Œé«˜</th></tr>
                            <tr><td>å°</td><td>å°</td><td>18px</td><td>1.4</td></tr>
                            <tr><td>ä¸­</td><td>ä¸­</td><td>24px</td><td>1.5</td></tr>
                            <tr><td>å¤§</td><td>å¤§</td><td>32px</td><td>1.6</td></tr>
                        </table>

                        <h4>5.3 å­—å¹•æ˜¾ç¤ºè§„åˆ™</h4>
                        <table class="doc-table">
                            <tr><th>è§„åˆ™</th><th>è¯´æ˜</th></tr>
                            <tr><td>æ˜¾ç¤ºä½ç½®</td><td>å±å¹•åº•éƒ¨å±…ä¸­ï¼Œè·åº•è¾¹10%</td></tr>
                            <tr><td>èƒŒæ™¯æ ·å¼</td><td>åŠé€æ˜é»‘è‰²èƒŒæ™¯ï¼ˆ70%é€æ˜åº¦ï¼‰</td></tr>
                            <tr><td>è§’è‰²åç§°</td><td>æ˜¾ç¤ºåœ¨å­—å¹•å·¦ä¾§ï¼Œä½¿ç”¨è§’è‰²ä¸“å±é¢œè‰²</td></tr>
                            <tr><td>è‡ªåŠ¨æ¢è¡Œ</td><td>å•è¡Œè¶…è¿‡40ä¸ªå­—ç¬¦è‡ªåŠ¨æ¢è¡Œ</td></tr>
                            <tr><td>æ˜¾ç¤ºæ—¶é•¿</td><td>ä¸è¯­éŸ³åŒæ­¥ï¼Œç»“æŸåå»¶è¿Ÿ0.5ç§’æ¶ˆå¤±</td></tr>
                        </table>

                        <h4>5.4 å­—å¹•ç±»å‹</h4>
                        <table class="doc-table">
                            <tr><th>ç±»å‹</th><th>æ˜¾ç¤ºæ¡ä»¶</th><th>æ ·å¼</th></tr>
                            <tr><td>å¯¹è¯å­—å¹•</td><td>è§’è‰²è¯´è¯æ—¶</td><td>æ ‡å‡†æ ·å¼</td></tr>
                            <tr><td>ç¯å¢ƒéŸ³å­—å¹•</td><td>å¼€å¯"ç¯å¢ƒéŸ³å­—å¹•"æ—¶</td><td>[æ–¹æ‹¬å·]æ ‡æ³¨ï¼Œæ–œä½“</td></tr>
                            <tr><td>ç³»ç»Ÿæç¤º</td><td>æ¸¸æˆæç¤ºæ—¶</td><td>å±å¹•ä¸Šæ–¹ï¼Œé‡‘è‰²æ–‡å­—</td></tr>
                        </table>
                    </div>
                </div>

                <!-- ç”»é¢è®¾ç½® -->
                <div class="doc-tab-content" id="tab-display">
                    <div class="doc-section">
                        <h3>å…­ã€ç”»é¢è®¾ç½®</h3>

                        <h4>6.1 äº®åº¦è°ƒèŠ‚</h4>
                        <table class="doc-table">
                            <tr><th>å±æ€§</th><th>è¯´æ˜</th></tr>
                            <tr><td>æ§åˆ¶æ–¹å¼</td><td>æ»‘å—ï¼ˆ0-100ï¼‰</td></tr>
                            <tr><td>é»˜è®¤å€¼</td><td>50</td></tr>
                            <tr><td>å½±å“å†…å®¹</td><td>æ•´ä½“ç”»é¢æ˜æš—</td></tr>
                            <tr><td>å®æ—¶é¢„è§ˆ</td><td>è°ƒæ•´æ—¶å®æ—¶ç”Ÿæ•ˆ</td></tr>
                        </table>

                        <h4>6.2 äº®åº¦å‚è€ƒ</h4>
                        <table class="doc-table">
                            <tr><th>æ•°å€¼èŒƒå›´</th><th>æ•ˆæœæè¿°</th></tr>
                            <tr><td>0-30</td><td>è¾ƒæš—ï¼Œé€‚åˆå…¨é»‘ç¯å¢ƒ</td></tr>
                            <tr><td>30-70</td><td>æ ‡å‡†ï¼Œé€‚åˆä¸€èˆ¬ç¯å¢ƒ</td></tr>
                            <tr><td>70-100</td><td>è¾ƒäº®ï¼Œé€‚åˆæ˜äº®ç¯å¢ƒ</td></tr>
                        </table>

                        <h4>6.3 å±å¹•æ¨¡å¼ï¼ˆv1.1è§„åˆ’ï¼‰</h4>
                        <table class="doc-table">
                            <tr><th>é€‰é¡¹</th><th>ä¸­æ–‡æ˜¾ç¤º</th><th>è¯´æ˜</th></tr>
                            <tr><td>å…¨å±</td><td>å…¨å±</td><td>ç‹¬å å…¨å±æ¨¡å¼</td></tr>
                            <tr><td>çª—å£</td><td>çª—å£</td><td>çª—å£åŒ–æ¨¡å¼</td></tr>
                            <tr><td>æ— è¾¹æ¡†</td><td>æ— è¾¹æ¡†çª—å£</td><td>æ— è¾¹æ¡†å…¨å±çª—å£</td></tr>
                        </table>

                        <h4>6.4 è¾…åŠ©åŠŸèƒ½</h4>
                        <table class="doc-table">
                            <tr><th>åŠŸèƒ½</th><th>ä¸­æ–‡æ˜¾ç¤º</th><th>è¯´æ˜</th></tr>
                            <tr><td>ç¯å¢ƒéŸ³å­—å¹•</td><td>å¼€/å…³</td><td>æ˜¾ç¤ºç¯å¢ƒéŸ³æ•ˆçš„æ–‡å­—æè¿°ï¼Œå¦‚[è„šæ­¥å£°æ¸è¿‘]</td></tr>
                            <tr><td>å±å¹•éœ‡åŠ¨</td><td>å¼€/å…³</td><td>å‰§æƒ…æ¼”å‡ºæ—¶çš„å±å¹•éœ‡åŠ¨æ•ˆæœ</td></tr>
                            <tr><td>è‰²ç›²æ¨¡å¼</td><td>å…³é—­/çº¢ç»¿è‰²ç›²/è“é»„è‰²ç›²</td><td>v1.1è§„åˆ’</td></tr>
                        </table>
                    </div>
                </div>

                <!-- å¿«æ·é”® -->
                <div class="doc-tab-content" id="tab-hotkey">
                    <div class="doc-section">
                        <h3>ä¸ƒã€å¿«æ·é”®ä¸€è§ˆ</h3>

                        <table class="doc-table">
                            <tr><th>æŒ‰é”®</th><th>ä¸­æ–‡åç§°</th><th>åŠŸèƒ½æè¿°</th><th>é€‚ç”¨ç•Œé¢</th></tr>
                            <tr><td>Esc</td><td>è¿”å›å…³é—­</td><td>å…³é—­å½“å‰ç•Œé¢/è¿”å›ä¸Šçº§</td><td>å…¨å±€</td></tr>
                            <tr><td>F1</td><td>è®¾ç½®å¸®åŠ©</td><td>æ‰“å¼€è®¾ç½®ä¸å¸®åŠ©ç•Œé¢</td><td>å…¨å±€</td></tr>
                            <tr><td>Tab</td><td>æ¡ˆæƒ…é¢æ¿</td><td>æ‰“å¼€CASE BOARD</td><td>æ¸¸æˆä¸­</td></tr>
                            <tr><td>Space</td><td>ç¡®è®¤ç»§ç»­</td><td>ç¡®è®¤é€‰æ‹©/ç»§ç»­å¯¹è¯</td><td>å¯¹è¯/é€‰é¡¹</td></tr>
                            <tr><td>Enter</td><td>ç¡®è®¤</td><td>ç¡®è®¤é€‰æ‹©</td><td>èœå•/é€‰é¡¹</td></tr>
                            <tr><td>E</td><td>äº’åŠ¨</td><td>ä¸ç‰©å“/NPCäº’åŠ¨</td><td>åœºæ™¯æ¢ç´¢</td></tr>
                            <tr><td>Q</td><td>æç¤ºå¸®åŠ©</td><td>æ‰“å¼€å½“å‰æƒ…å¢ƒæç¤º</td><td>æ¢ç´¢/æŒ‡è¯</td></tr>
                            <tr><td>M</td><td>åœ°å›¾</td><td>æ‰“å¼€åœ°å›¾ç•Œé¢</td><td>æ¸¸æˆä¸­</td></tr>
                            <tr><td>J</td><td>ç›®æ ‡ä»»åŠ¡</td><td>æ˜¾ç¤ºå½“å‰ç›®æ ‡</td><td>æ¸¸æˆä¸­</td></tr>
                            <tr><td>I</td><td>è¯æ®èƒŒåŒ…</td><td>æ‰“å¼€EVIDENCEç•Œé¢</td><td>æ¸¸æˆä¸­</td></tr>
                            <tr><td>1-5</td><td>å¿«æ·è¯æ®</td><td>å¿«é€Ÿé€‰æ‹©è¯æ®æ§½ä½</td><td>æŒ‡è¯é˜¶æ®µ</td></tr>
                            <tr><td>â†‘â†“</td><td>ä¸Šä¸‹é€‰æ‹©</td><td>èœå•é¡¹ç›®åˆ‡æ¢</td><td>èœå•ç•Œé¢</td></tr>
                            <tr><td>â†â†’</td><td>å·¦å³è°ƒèŠ‚</td><td>é€‰é¡¹/æ»‘å—è°ƒèŠ‚</td><td>è®¾ç½®ç•Œé¢</td></tr>
                        </table>

                        <div class="highlight-box">
                            <h5>å¿«æ·é”®è®¾ç½®è§„åˆ™</h5>
                            <p>v1.0æš‚ä¸æ”¯æŒè‡ªå®šä¹‰æŒ‰é”®ï¼Œæä¾›"æ¢å¤é»˜è®¤æŒ‰é”®"æŒ‰é’®ã€‚v1.1è§„åˆ’æ”¯æŒæ‰‹æŸ„å’ŒæŒ‰é”®è‡ªå®šä¹‰ã€‚</p>
                        </div>
                    </div>
                </div>

                <!-- å¸®åŠ©ç³»ç»Ÿ -->
                <div class="doc-tab-content" id="tab-help">
                    <div class="doc-section">
                        <h3>å…«ã€å¸®åŠ©ç³»ç»Ÿ</h3>

                        <h4>8.1 å¸®åŠ©å…¥å£</h4>
                        <table class="doc-table">
                            <tr><th>å…¥å£ä½ç½®</th><th>è§¦å‘æ–¹å¼</th></tr>
                            <tr><td>è®¾ç½®é¢æ¿</td><td>ç‚¹å‡»"å¸®åŠ©"æŒ‰é’®</td></tr>
                            <tr><td>æ¸¸æˆå†…</td><td>æŒ‰Qé”®ï¼ˆåœºæ™¯æ¢ç´¢/è°ƒæŸ¥æŒ‡è¯ï¼‰</td></tr>
                            <tr><td>å¡å…³æ—¶</td><td>ç³»ç»Ÿè‡ªåŠ¨æç¤º"éœ€è¦å¸®åŠ©å—ï¼Ÿ"</td></tr>
                        </table>

                        <h4>8.2 æç¤ºå±‚çº§</h4>
                        <table class="doc-table">
                            <tr><th>å±‚çº§</th><th>å†…å®¹ç±»å‹</th><th>ç¤ºä¾‹</th><th>æ™®é€šæ¨¡å¼å½±å“</th><th>ä¸“å®¶æ¨¡å¼å½±å“</th></tr>
                            <tr><td>ç¬¬ä¸€å±‚</td><td>æ–¹å‘æç¤º</td><td>"ä¹Ÿè®¸åº”è¯¥æ£€æŸ¥å‚¨è—å®¤çš„è§’è½"</td><td>æ— </td><td>æ— </td></tr>
                            <tr><td>ç¬¬äºŒå±‚</td><td>è¯¦ç»†æç¤º</td><td>"å‚¨è—å®¤çš„æœ¨ç®±åé¢è—ç€ä»€ä¹ˆ"</td><td>æ— </td><td>è¯„åˆ†-10%</td></tr>
                            <tr><td>ç¬¬ä¸‰å±‚</td><td>ç­”æ¡ˆæç¤º</td><td>"ç‚¹å‡»æœ¨ç®±ï¼Œç§»å¼€ä¸Šé¢çš„å¸ƒ"</td><td>è¯„åˆ†-5%</td><td>è¯„åˆ†-25%</td></tr>
                        </table>

                        <h4>8.3 æç¤ºå†·å´æ—¶é—´</h4>
                        <table class="doc-table">
                            <tr><th>å±‚çº§</th><th>å†·å´æ—¶é—´</th><th>è§£é”æ¡ä»¶</th></tr>
                            <tr><td>ç¬¬ä¸€å±‚</td><td>æ— </td><td>éšæ—¶å¯ç”¨</td></tr>
                            <tr><td>ç¬¬äºŒå±‚</td><td>30ç§’</td><td>ä½¿ç”¨ç¬¬ä¸€å±‚åè§£é”</td></tr>
                            <tr><td>ç¬¬ä¸‰å±‚</td><td>60ç§’</td><td>ä½¿ç”¨ç¬¬äºŒå±‚åè§£é”</td></tr>
                        </table>

                        <h4>8.4 å¸®åŠ©å†…å®¹ç»“æ„</h4>
                        <div class="feature-grid">
                            <div class="feature-card">
                                <h5>æ¸¸æˆæŒ‡å—</h5>
                                <p>åŸºç¡€æ“ä½œã€åœºæ™¯æ¢ç´¢æŒ‡å—ã€å¯¹è¯ç³»ç»ŸæŒ‡å—ã€æ¡ˆæƒ…åˆ†ææŒ‡å—ã€è°ƒæŸ¥æŒ‡è¯æŒ‡å—</p>
                            </div>
                            <div class="feature-card">
                                <h5>æƒ…å¢ƒå¸®åŠ©</h5>
                                <p>æ ¹æ®å½“å‰æ¸¸æˆé˜¶æ®µæä¾›é’ˆå¯¹æ€§çš„ä¸‰å±‚æç¤º</p>
                            </div>
                            <div class="feature-card">
                                <h5>å¸¸è§é—®é¢˜</h5>
                                <p>å­˜æ¡£ç›¸å…³ã€è¿›åº¦ç›¸å…³ã€æŠ€æœ¯é—®é¢˜è§£ç­”</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // è®¾ç½®æ•°æ®
        let settings = {
            difficulty: 1,
            language: 0,
            subtitles: true,
            size: 1,
            aspectRatio: 0,
            displayMode: 0
        };

        // åŸå§‹è®¾ç½®ï¼ˆç”¨äºæ¯”è¾ƒæ˜¯å¦æœ‰ä¿®æ”¹ï¼‰
        let originalSettings = JSON.parse(JSON.stringify(settings));
        let hasChanges = false;

        const difficulties = ['æ™®é€šæ¨¡å¼', 'ä¸“å®¶æ¨¡å¼'];
        const languages = ['è‹±è¯­', 'ç®€ä½“ä¸­æ–‡'];
        const sizes = ['å°', 'ä¸­', 'å¤§'];
        const aspectRatios = ['16:9', '21:9', '16:10', '4:3'];
        const displayModes = ['å…¨å±', 'çª—å£åŒ–', 'æ— è¾¹æ¡†çª—å£'];

        // æ£€æµ‹è®¾ç½®æ˜¯å¦æœ‰ä¿®æ”¹
        function checkForChanges() {
            hasChanges = JSON.stringify(settings) !== JSON.stringify(originalSettings);
            const resumeBtn = document.getElementById('resumeBtn');
            if (hasChanges) {
                resumeBtn.textContent = 'ä¿å­˜å¹¶ç»§ç»­æ¸¸æˆ';
                resumeBtn.classList.add('has-changes');
            } else {
                resumeBtn.textContent = 'ç»§ç»­æ¸¸æˆ';
                resumeBtn.classList.remove('has-changes');
            }
        }

        // ç»§ç»­æ¸¸æˆï¼ˆä¿å­˜è®¾ç½®ï¼‰
        function resumeGame() {
            if (hasChanges) {
                originalSettings = JSON.parse(JSON.stringify(settings));
                hasChanges = false;
                showMessage('è®¾ç½®å·²ä¿å­˜');
            }
            // è¿™é‡Œå¯ä»¥æ·»åŠ å…³é—­è®¾ç½®ç•Œé¢çš„é€»è¾‘
        }

        function changeDifficulty(dir) {
            const newDifficulty = (settings.difficulty + dir + 2) % 2;
            if (newDifficulty !== settings.difficulty) {
                window.pendingDifficulty = newDifficulty;

                // æ›´æ–°å¼¹çª—å†…å®¹
                const isToNormal = newDifficulty === 0;
                document.getElementById('difficultyModalTitle').textContent =
                    isToNormal ? 'Switch to Normal Mode?' : 'Switch to Expert Mode?';
                document.getElementById('difficultyModalText').textContent =
                    isToNormal ? 'æ˜¯å¦åˆ‡æ¢åˆ°æ™®é€šæ¨¡å¼ï¼Ÿ' : 'æ˜¯å¦åˆ‡æ¢åˆ°ä¸“å®¶æ¨¡å¼ï¼Ÿ';

                // ä»ä¸“å®¶åˆ‡æ¢åˆ°æ™®é€šæ—¶æ˜¾ç¤ºæˆå°±è­¦å‘Š
                if (isToNormal && settings.difficulty === 1) {
                    document.getElementById('difficultyWarning').textContent =
                        'âš  åˆ‡æ¢åå½“å‰ç« èŠ‚æ— æ³•è·å¾—"ä¸“å®¶é€šå…³"æˆå°±';
                } else {
                    document.getElementById('difficultyWarning').textContent = '';
                }

                document.getElementById('difficultyModal').classList.add('active');
            }
        }

        function confirmDifficulty(confirm) {
            if (confirm && window.pendingDifficulty !== undefined) {
                settings.difficulty = window.pendingDifficulty;
                document.getElementById('difficultyValue').textContent = difficulties[settings.difficulty];
                checkForChanges();
            }
            document.getElementById('difficultyModal').classList.remove('active');
        }

        function changeLanguage(dir) {
            const newLang = (settings.language + dir + 2) % 2;
            if (newLang !== settings.language) {
                document.getElementById('languageModal').classList.add('active');
                window.pendingLanguage = newLang;
            }
        }

        function confirmLanguage(confirm) {
            if (confirm && window.pendingLanguage !== undefined) {
                settings.language = window.pendingLanguage;
                document.getElementById('languageValue').textContent = languages[settings.language];
                checkForChanges();
            }
            document.getElementById('languageModal').classList.remove('active');
        }

        function toggleSubtitles(on) {
            settings.subtitles = on;
            document.querySelectorAll('.toggle-option').forEach((el, i) => {
                el.classList.toggle('active', i === (on ? 0 : 1));
            });
            checkForChanges();
        }

        function changeSize(dir) {
            settings.size = Math.max(0, Math.min(2, settings.size + dir));
            document.getElementById('sizeValue').textContent = sizes[settings.size];
            checkForChanges();
        }

        function changeAspectRatio(dir) {
            settings.aspectRatio = (settings.aspectRatio + dir + aspectRatios.length) % aspectRatios.length;
            document.getElementById('aspectRatioValue').textContent = aspectRatios[settings.aspectRatio];
            checkForChanges();
        }

        function changeDisplayMode(dir) {
            settings.displayMode = (settings.displayMode + dir + displayModes.length) % displayModes.length;
            document.getElementById('displayModeValue').textContent = displayModes[settings.displayMode];
            checkForChanges();
        }

        // æ»‘å—äº¤äº’
        function initSliders() {
            document.querySelectorAll('.slider-container').forEach(slider => {
                const track = slider.querySelector('.slider-track');
                const fill = slider.querySelector('.slider-fill');
                const thumb = slider.querySelector('.slider-thumb');
                let isDragging = false;

                function updateSlider(e) {
                    const rect = track.getBoundingClientRect();
                    let percent = ((e.clientX - rect.left) / rect.width) * 100;
                    percent = Math.max(0, Math.min(100, percent));
                    fill.style.width = percent + '%';
                    thumb.style.left = percent + '%';
                }

                thumb.addEventListener('mousedown', () => isDragging = true);
                document.addEventListener('mousemove', (e) => { if (isDragging) updateSlider(e); });
                document.addEventListener('mouseup', () => isDragging = false);
                track.addEventListener('click', updateSlider);
            });
        }

        // èœå•é¡¹ç‚¹å‡»
        document.querySelectorAll('.menu-item').forEach(item => {
            item.addEventListener('click', function() {
                document.querySelectorAll('.menu-item').forEach(i => i.classList.remove('active'));
                this.classList.add('active');
            });
        });

        function showMessage(msg) {
            alert(msg + '\nï¼ˆæ¼”ç¤ºåŠŸèƒ½ï¼‰');
        }

        // è·³è½¬æ¡ˆæƒ…å›é¡¾ç³»ç»Ÿ
        function openCaseReview() {
            window.location.href = '../æ¡ˆæƒ…å›é¡¾ç³»ç»Ÿ/case_review_system.html';
        }

        // Tabåˆ‡æ¢
        function switchTab(tabId) {
            document.querySelectorAll('.doc-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.doc-tab-content').forEach(c => c.classList.remove('active'));
            event.target.classList.add('active');
            document.getElementById('tab-' + tabId).classList.add('active');
        }

        // ç­–åˆ’æ¡ˆå¼¹çª—
        function openDoc() {
            document.getElementById('docModal').classList.add('active');
        }

        function closeDoc() {
            document.getElementById('docModal').classList.remove('active');
        }

        document.getElementById('docModal').addEventListener('click', function(e) {
            if (e.target === this) closeDoc();
        });

        document.getElementById('languageModal').addEventListener('click', function(e) {
            if (e.target === this) confirmLanguage(false);
        });

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeDoc();
                confirmLanguage(false);
                confirmDifficulty(false);
                closeSaveLoad();
                closeConfirm();
            }
        });

        document.getElementById('difficultyModal').addEventListener('click', function(e) {
            if (e.target === this) confirmDifficulty(false);
        });

        // å­˜æ¡£ç•Œé¢åŠŸèƒ½
        let selectedSlot = null;

        function openSaveLoad() {
            document.getElementById('saveLoadModal').classList.add('active');
            selectedSlot = null;
            document.querySelectorAll('.save-slot').forEach(s => s.classList.remove('selected'));
            document.getElementById('loadBtn').disabled = true;
        }

        function closeSaveLoad() {
            document.getElementById('saveLoadModal').classList.remove('active');
        }

        function selectSlot(slotIndex) {
            const slots = document.querySelectorAll('.save-slot');
            const clickedSlot = slots[slotIndex];

            // ç©ºæ§½ä½ä¸èƒ½é€‰æ‹©
            if (clickedSlot.classList.contains('empty')) {
                return;
            }

            // å–æ¶ˆä¹‹å‰çš„é€‰ä¸­
            slots.forEach(s => s.classList.remove('selected'));

            // é€‰ä¸­å½“å‰æ§½ä½
            clickedSlot.classList.add('selected');
            selectedSlot = slotIndex;

            // å¯ç”¨è¯»å–æŒ‰é’®
            document.getElementById('loadBtn').disabled = false;
        }

        function loadSelectedSlot() {
            if (selectedSlot === null) return;

            const slotNames = ['è‡ªåŠ¨å­˜æ¡£', 'å­˜æ¡£ 1', 'å­˜æ¡£ 2', 'å­˜æ¡£ 3', 'å­˜æ¡£ 4', 'å­˜æ¡£ 5'];
            const slotName = slotNames[selectedSlot];

            if (confirm(`ç¡®å®šè¦è¯»å–ã€Œ${slotName}ã€å—ï¼Ÿ\n\nå½“å‰æœªä¿å­˜çš„è¿›åº¦å°†ä¸¢å¤±ã€‚`)) {
                alert(`æ­£åœ¨è¯»å–ã€Œ${slotName}ã€...\n\nï¼ˆæ¼”ç¤ºåŠŸèƒ½ï¼‰`);
                closeSaveLoad();
            }
        }

        function closeConfirm() {
            const confirmModal = document.getElementById('confirmModal');
            if (confirmModal) {
                confirmModal.classList.remove('active');
            }
        }

        document.getElementById('saveLoadModal').addEventListener('click', function(e) {
            if (e.target === this) closeSaveLoad();
        });

        initSliders();
    </script>
</body>
</html>
