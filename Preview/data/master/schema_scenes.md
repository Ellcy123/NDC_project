# 场景数据规范（Scenes Schema）

## 基本字段

| 字段 | 类型 | 必填 | 说明 |
|------|------|------|------|
| `name` | string | ✓ | 场景中文名称 |
| `name_en` | string | ✓ | 场景英文名称（用于资源ID） |
| `asset_id` | string | ✓ | 美术资源ID，格式：`SC{编号}_bg_{英文名}` |
| `description` | string | ✓ | 场景描述（简短，一句话） |
| `state` | string |  | 场景状态描述（时间、氛围、类型等），如"白天_晴朗" "夜晚_下雨" |

## ID命名规范

```
SC + 章节(1位) + 循环(1位) + 场景编号(2位)
```

**编码说明**：
- **章节**：1位数字（1-9）
- **循环**：1位数字（0=标准场景，1-6=特定循环）
- **场景编号**：2位数字（01-99，代表场景的固定编号）

**示例**：
- `SC2002` = 第2章 **标准** 02号场景（公园）
- `SC2102` = 第2章 **循环1** 02号场景（公园-夜晚版）
- `SC2202` = 第2章 **循环2** 02号场景（公园-下雨版）

**重要原则**：
- **优先使用标准场景**（循环位=0）：大部分循环应该共享标准场景
- **按需创建循环场景**：只有当某个循环确实需要不同状态（时间、天气、氛围等）时，才创建循环特定的场景ID
- **实际应用举例**：
  - Loop1-6都需要白天公园 → 全部引用`SC2002`
  - 只有Loop3需要夜晚公园 → 创建`SC2302`，其他循环继续用`SC2002`
  - 避免为每个循环都创建场景变体，造成场景数量膨胀

**注意**：场景ID与asset_id编号保持一致
- `SC001` → `SC1001`
- `SC015` → `SC1015`

## 资源ID命名规范

```
SC{编号}_bg_{英文场景名}
```

**示例**：
- `SC001_bg_RosaStorageRoom`
- `SC008_bg_WebbOffice`

## 完整示例

### 示例1：基础场景
```yaml
SC1001:
  name: Rosa储藏室
  name_en: RosaStorageRoom
  asset_id: SC001_bg_RosaStorageRoom
  description: 酒吧后方的储藏室，堆满杂物，是Rosa的私人空间
```

### 示例2：带状态的场景
```yaml
SC2001:
  name: 城市公园
  name_en: CityPark
  asset_id: SC201_bg_CityPark
  description: 芝加哥市中心的公共公园
  state: 白天_晴朗_人流稀少

SC2002:
  name: 城市公园
  name_en: CityPark_Night
  asset_id: SC202_bg_CityPark_Night
  description: 芝加哥市中心的公共公园
  state: 夜晚_下雨_空无一人
```

## 注意事项

1. **跨循环共享**：场景定义是全局的，不绑定特定循环
2. **关联循环**：通过Loop配置文件中的`accessible_scenes`引用
3. **英文名称**：使用驼峰命名（PascalCase），首字母大写
4. **描述文本**：保持简洁，一句话概括场景特点
5. **编号一致性**：确保`SC{编号}`在ID和asset_id中保持一致
6. **场景状态**：`state`字段用于区分同一场景的不同状态（时间、天气、氛围等），格式建议：`时间_天气_氛围`
7. **同场景不同状态**：如需表示同一地点的不同状态，使用不同的场景ID（如SC2001、SC2002），通过`state`字段说明区别

## 与其他数据的关联

| 关联数据 | 关联方式 |
|---------|---------|
| 证据 | 证据的`asset_id`以场景编号开头，如`SC101_clue_01` |
| Loop配置 | Loop的`accessible_scenes`列表引用场景ID |
| 对话文件 | 对话的`scene`字段引用场景ID |
