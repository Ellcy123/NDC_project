<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NDC - å¼€å§‹ç•Œé¢ç³»ç»Ÿ (Title Screen)</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Noto+Serif+SC:wght@400;600;700&family=Special+Elite&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #0a0808;
            color: #e8e4d9;
            font-family: 'Noto Serif SC', serif;
            min-height: 100vh;
            overflow: hidden;
        }

        /* å™ªç‚¹çº¹ç† */
        .noise-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
            opacity: 0.03;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
        }

        /* ==================== ä¸»ç•Œé¢å®¹å™¨ ==================== */
        .title-screen {
            position: relative;
            width: 100%;
            height: 100vh;
            overflow: hidden;
        }

        /* èƒŒæ™¯å›¾å±‚ */
        .background-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a1510 0%, #2a1815 30%, #1a0a05 70%, #0a0505 100%);
        }

        /* åŸå¸‚å¤©é™…çº¿å‰ªå½± */
        .skyline {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 60%;
            background:
                /* è¿œå¤„å»ºç­‘ */
                linear-gradient(to bottom, transparent 40%, rgba(30,20,15,0.8) 100%),
                /* å»ºç­‘å‰ªå½± */
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 600'%3E%3Crect x='100' y='200' width='80' height='400' fill='%23151010'/%3E%3Crect x='200' y='150' width='120' height='450' fill='%23121010'/%3E%3Crect x='350' y='250' width='60' height='350' fill='%23181515'/%3E%3Crect x='450' y='100' width='150' height='500' fill='%23101010'/%3E%3Crect x='650' y='180' width='100' height='420' fill='%23141212'/%3E%3Crect x='800' y='220' width='80' height='380' fill='%23161313'/%3E%3Crect x='1000' y='80' width='200' height='520' fill='%23111010'/%3E%3Crect x='1250' y='150' width='120' height='450' fill='%23131111'/%3E%3Crect x='1400' y='200' width='90' height='400' fill='%23151212'/%3E%3Crect x='1550' y='120' width='180' height='480' fill='%23121111'/%3E%3Crect x='1750' y='180' width='100' height='420' fill='%23141313'/%3E%3C/svg%3E");
            background-size: cover;
            background-position: bottom;
            opacity: 0.6;
        }

        /* è·¯ç¯å…‰æ™• */
        .street-lights {
            position: absolute;
            bottom: 15%;
            left: 0;
            width: 100%;
            height: 200px;
            pointer-events: none;
        }

        .light-glow {
            position: absolute;
            width: 150px;
            height: 200px;
            background: radial-gradient(ellipse at bottom, rgba(255,200,100,0.15) 0%, transparent 70%);
        }

        .light-glow:nth-child(1) { left: 20%; }
        .light-glow:nth-child(2) { left: 45%; }
        .light-glow:nth-child(3) { left: 70%; }

        /* ç å¤´æœ¨æ ˆé“ */
        .dock {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 20%;
            background: linear-gradient(to top,
                #1a1510 0%,
                #252015 30%,
                #2a2520 60%,
                transparent 100%
            );
        }

        .dock::before {
            content: '';
            position: absolute;
            top: 30%;
            left: 0;
            width: 100%;
            height: 3px;
            background: repeating-linear-gradient(90deg,
                #3a3025 0px, #3a3025 30px,
                transparent 30px, transparent 35px
            );
            opacity: 0.5;
        }

        /* ==================== LogoåŒºåŸŸ ==================== */
        .logo-container {
            position: absolute;
            top: 8%;
            left: 8%;
            z-index: 10;
        }

        .game-logo {
            font-family: 'Cinzel', serif;
            line-height: 1;
        }

        .logo-main {
            font-size: 4.5em;
            font-weight: 900;
            color: #c41e3a;
            text-shadow:
                3px 3px 0 #000,
                -1px -1px 0 #000,
                0 5px 15px rgba(0,0,0,0.8);
            letter-spacing: -2px;
        }

        .logo-main .in {
            font-size: 0.5em;
            font-weight: 400;
            color: #8a8070;
            vertical-align: super;
            margin: 0 8px;
        }

        .logo-subtitle {
            font-family: 'Cinzel', serif;
            font-size: 0.85em;
            color: #c41e3a;
            letter-spacing: 3px;
            margin-top: 10px;
            text-transform: uppercase;
            border-top: 2px solid #c41e3a;
            padding-top: 8px;
            display: inline-block;
        }

        /* ==================== èœå•åŒºåŸŸ ==================== */
        .menu-container {
            position: absolute;
            top: 35%;
            left: 8%;
            z-index: 10;
        }

        .menu-list {
            list-style: none;
        }

        .menu-item {
            position: relative;
            margin-bottom: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .menu-item-inner {
            display: flex;
            align-items: center;
            padding: 12px 30px 12px 20px;
            background: transparent;
            position: relative;
            transition: all 0.3s ease;
        }

        .menu-item.active .menu-item-inner,
        .menu-item:hover .menu-item-inner {
            background: linear-gradient(90deg, #c41e3a, #a01830);
        }

        /* é€‰ä¸­æ—¶çš„çº¢è‰²å»¶ä¼¸æ¡ */
        .menu-item.active::before,
        .menu-item:hover::before {
            content: '';
            position: absolute;
            left: -200px;
            top: 0;
            width: 200px;
            height: 100%;
            background: linear-gradient(90deg, transparent, #c41e3a);
        }

        .menu-text {
            font-family: 'Cinzel', serif;
            font-size: 1.1em;
            font-weight: 700;
            color: #c41e3a;
            letter-spacing: 2px;
            text-transform: uppercase;
            transition: color 0.3s ease;
        }

        .menu-item.active .menu-text,
        .menu-item:hover .menu-text {
            color: #fff;
        }

        .menu-item.disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }

        .menu-item.disabled:hover .menu-item-inner {
            background: transparent;
        }

        .menu-item.disabled:hover::before {
            display: none;
        }

        .menu-item.disabled:hover .menu-text {
            color: #c41e3a;
        }

        /* ç»§ç»­æ¸¸æˆçš„è¿›åº¦æç¤º */
        .menu-item .progress-hint {
            font-family: 'Noto Serif SC', serif;
            font-size: 0.7em;
            color: #8a7a6a;
            margin-left: 15px;
            font-weight: normal;
        }

        .menu-item.active .progress-hint,
        .menu-item:hover .progress-hint {
            color: rgba(255,255,255,0.7);
        }

        /* ==================== åº•éƒ¨ç‰ˆæƒä¿¡æ¯ ==================== */
        .copyright {
            position: absolute;
            bottom: 3%;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Cinzel', serif;
            font-size: 0.75em;
            color: #5a5045;
            letter-spacing: 8px;
            text-transform: uppercase;
            z-index: 10;
        }

        /* ==================== ç­–åˆ’æ¡ˆæŒ‰é’® ==================== */
        .doc-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 12px 25px;
            background: linear-gradient(180deg, #1a3a5a, #0a2a4a);
            border: 2px solid #3a7aba;
            color: #5aafe8;
            font-family: 'Noto Serif SC', serif;
            font-size: 0.9em;
            cursor: pointer;
            border-radius: 5px;
            z-index: 100;
            transition: all 0.3s ease;
        }

        .doc-btn:hover {
            background: linear-gradient(180deg, #2a4a6a, #1a3a5a);
            box-shadow: 0 0 20px rgba(90,175,232,0.4);
        }

        /* æ¼”ç¤ºæŒ‰é’® */
        .demo-btn {
            position: fixed;
            bottom: 70px;
            right: 20px;
            padding: 12px 25px;
            background: linear-gradient(180deg, #5a3a6a, #3a2a4a);
            border: 2px solid #9a6aba;
            color: #c8a8e8;
            font-family: 'Noto Serif SC', serif;
            font-size: 0.9em;
            cursor: pointer;
            border-radius: 5px;
            z-index: 100;
            transition: all 0.3s ease;
        }

        .demo-btn:hover {
            background: linear-gradient(180deg, #6a4a7a, #4a3a5a);
            box-shadow: 0 0 20px rgba(154,106,186,0.4);
        }

        /* æ¼”ç¤ºä¸‹æ‹‰èœå• */
        .demo-dropdown {
            position: fixed;
            bottom: 120px;
            right: 20px;
            background: linear-gradient(180deg, #2a2530, #1a1520);
            border: 2px solid #9a6aba;
            border-radius: 8px;
            padding: 10px;
            z-index: 100;
            display: none;
            min-width: 200px;
        }

        .demo-dropdown.active {
            display: block;
        }

        .demo-dropdown-item {
            padding: 10px 15px;
            color: #c8a8e8;
            font-family: 'Noto Serif SC', serif;
            font-size: 0.85em;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.2s ease;
            margin-bottom: 5px;
        }

        .demo-dropdown-item:last-child {
            margin-bottom: 0;
        }

        .demo-dropdown-item:hover {
            background: rgba(154,106,186,0.3);
        }

        .demo-dropdown-item .icon {
            margin-right: 8px;
        }

        /* ==================== å¼¹çª—é€šç”¨æ ·å¼ ==================== */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-content {
            width: 90%;
            max-width: 900px;
            max-height: 85vh;
            background: linear-gradient(180deg, #1a1815 0%, #0f0c0a 100%);
            border: 2px solid #8b7355;
            border-radius: 10px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .modal-header {
            background: linear-gradient(90deg, #8b7355, #5a4a3a);
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            font-family: 'Cinzel', serif;
            font-size: 1.3em;
            color: #1a1510;
        }

        .modal-close {
            width: 40px;
            height: 40px;
            background: rgba(0,0,0,0.3);
            border: none;
            border-radius: 50%;
            color: #1a1510;
            font-size: 1.5em;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: rgba(0,0,0,0.5);
        }

        .modal-body {
            flex: 1;
            overflow-y: auto;
            padding: 30px;
        }

        /* ==================== éš¾åº¦é€‰æ‹©ç•Œé¢ ==================== */
        .difficulty-modal .modal-content {
            max-width: 600px;
        }

        .difficulty-modal .modal-header {
            background: linear-gradient(90deg, #c41e3a, #8a1528);
        }

        .difficulty-modal .modal-header h2 {
            color: #fff;
        }

        .difficulty-option {
            background: rgba(30,25,20,0.8);
            border: 2px solid #3a2a20;
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .difficulty-option:hover {
            border-color: #c41e3a;
            transform: translateX(10px);
        }

        .difficulty-option.selected {
            border-color: #d4af37;
            background: rgba(212,175,55,0.1);
        }

        .difficulty-option h3 {
            font-family: 'Cinzel', serif;
            font-size: 1.3em;
            color: #d4af37;
            margin-bottom: 10px;
        }

        .difficulty-option p {
            color: #8a7a6a;
            font-size: 0.9em;
            line-height: 1.6;
            margin-bottom: 8px;
        }

        .difficulty-option .recommend {
            display: inline-block;
            background: rgba(76,175,80,0.2);
            color: #6fcf70;
            border: 1px solid #4caf50;
            padding: 3px 12px;
            border-radius: 3px;
            font-size: 0.75em;
            margin-top: 10px;
        }

        .difficulty-note {
            color: #8a7a6a;
            font-size: 0.85em;
            text-align: center;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #3a2a20;
        }

        .start-game-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(180deg, #c41e3a, #8a1528);
            border: 2px solid #e85a5a;
            color: #fff;
            font-family: 'Cinzel', serif;
            font-size: 1.1em;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .start-game-btn:hover {
            background: linear-gradient(180deg, #d42e4a, #9a2538);
            box-shadow: 0 0 25px rgba(196,30,58,0.5);
        }

        /* ==================== ç¡®è®¤å¼¹çª— ==================== */
        .confirm-modal .modal-content {
            max-width: 500px;
        }

        .confirm-modal .modal-header {
            background: linear-gradient(90deg, #8B2323, #5a1515);
        }

        .confirm-modal .modal-header h2 {
            color: #fff;
        }

        .confirm-text {
            color: #c9a86c;
            font-size: 1em;
            line-height: 1.8;
            margin-bottom: 20px;
        }

        .confirm-info {
            background: rgba(30,25,20,0.8);
            border: 1px solid #3a2a20;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 25px;
        }

        .confirm-info .row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px dashed #2a1a10;
            font-size: 0.9em;
        }

        .confirm-info .row:last-child {
            border-bottom: none;
        }

        .confirm-info .label {
            color: #8b7355;
        }

        .confirm-info .value {
            color: #e8e4d9;
        }

        .confirm-buttons {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
        }

        .confirm-btn {
            padding: 12px 30px;
            border-radius: 5px;
            font-family: 'Noto Serif SC', serif;
            font-size: 0.95em;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .confirm-btn.cancel {
            background: linear-gradient(180deg, #3a3025, #252015);
            color: #c9a86c;
            border: 1px solid #5a4a3a;
        }

        .confirm-btn.confirm {
            background: linear-gradient(180deg, #c41e3a, #8a1528);
            color: #fff;
            border: 2px solid #e85a5a;
        }

        .confirm-btn:hover {
            transform: translateY(-2px);
        }

        /* ==================== æ¢å¤è¿›åº¦å¼¹çª— ==================== */
        .recovery-modal .modal-header {
            background: linear-gradient(90deg, #f57c00, #e65100);
        }

        .recovery-icon {
            font-size: 3em;
            text-align: center;
            margin-bottom: 20px;
        }

        /* ==================== å­˜æ¡£å†²çªå¼¹çª— ==================== */
        .conflict-modal .modal-content {
            max-width: 700px;
        }

        .conflict-modal .modal-header {
            background: linear-gradient(90deg, #9c27b0, #7b1fa2);
        }

        .conflict-saves {
            display: flex;
            gap: 20px;
            margin-bottom: 25px;
        }

        .save-option {
            flex: 1;
            background: rgba(30,25,20,0.8);
            border: 2px solid #3a2a20;
            border-radius: 8px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .save-option:hover {
            border-color: #d4af37;
        }

        .save-option.selected {
            border-color: #d4af37;
            background: rgba(212,175,55,0.1);
        }

        .save-option h4 {
            font-family: 'Cinzel', serif;
            color: #d4af37;
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .save-option .info {
            color: #8a7a6a;
            font-size: 0.85em;
            line-height: 1.8;
        }

        .save-option .info strong {
            color: #e8e4d9;
        }

        .save-option .use-btn {
            width: 100%;
            padding: 10px;
            background: linear-gradient(180deg, #3a3025, #252015);
            border: 1px solid #5a4a3a;
            color: #c9a86c;
            font-family: 'Noto Serif SC', serif;
            cursor: pointer;
            margin-top: 15px;
            border-radius: 3px;
            transition: all 0.3s ease;
        }

        .save-option .use-btn:hover {
            background: linear-gradient(180deg, #4a4035, #353025);
        }

        .conflict-later-btn {
            width: 100%;
            padding: 12px;
            background: transparent;
            border: 1px dashed #5a4a3a;
            color: #8a7a6a;
            font-family: 'Noto Serif SC', serif;
            cursor: pointer;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .conflict-later-btn:hover {
            border-color: #8a7a6a;
            color: #c9a86c;
        }

        /* ==================== ç­–åˆ’æ¡ˆæ–‡æ¡£æ ·å¼ ==================== */
        .doc-section {
            margin-bottom: 35px;
        }

        .doc-section h3 {
            font-family: 'Cinzel', serif;
            font-size: 1.2em;
            color: #d4af37;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #5a4a3a;
        }

        .doc-section h4 {
            font-size: 1em;
            color: #c9a86c;
            margin: 20px 0 12px;
        }

        .doc-section p, .doc-section li {
            color: #a09080;
            line-height: 1.8;
            margin-bottom: 10px;
        }

        .doc-section ul {
            margin-left: 20px;
        }

        .doc-section strong {
            color: #e8e4d9;
        }

        .doc-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }

        .doc-table th {
            background: rgba(139,115,85,0.3);
            color: #d4af37;
            padding: 12px;
            text-align: left;
            border: 1px solid #5a4a3a;
            font-size: 0.9em;
        }

        .doc-table td {
            padding: 12px;
            border: 1px solid #3a2a20;
            color: #a09080;
            font-size: 0.85em;
        }

        .highlight-box {
            background: rgba(212,175,55,0.1);
            border: 1px solid #d4af37;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }

        .highlight-box.warning {
            background: rgba(232,90,90,0.1);
            border-color: #e85a5a;
        }

        .highlight-box h5 {
            color: #d4af37;
            margin-bottom: 8px;
        }

        .highlight-box.warning h5 {
            color: #e85a5a;
        }

        .highlight-box p {
            color: #c9a86c;
            margin: 0;
        }

        .flow-diagram {
            background: rgba(30,25,20,0.8);
            border: 1px solid #5a4a3a;
            border-radius: 5px;
            padding: 25px;
            margin: 15px 0;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .flow-step {
            background: linear-gradient(180deg, #3a3025, #252015);
            border: 2px solid #5a4a3a;
            border-radius: 5px;
            padding: 12px 18px;
            text-align: center;
        }

        .flow-step.highlight {
            border-color: #d4af37;
        }

        .flow-step .num {
            font-size: 0.65em;
            color: #8b7355;
        }

        .flow-step .text {
            color: #e8e4d9;
            font-size: 0.85em;
        }

        .flow-arrow {
            color: #5a4a3a;
            font-size: 1.2em;
        }

        /* ==================== åŠ è½½åŠ¨ç”» ==================== */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0a0808;
            z-index: 3000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: opacity 0.5s ease;
        }

        .loading-overlay.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .loading-text {
            font-family: 'Cinzel', serif;
            font-size: 1.2em;
            color: #c9a86c;
            letter-spacing: 3px;
        }

        .loading-bar {
            width: 200px;
            height: 4px;
            background: #2a2520;
            border-radius: 2px;
            margin-top: 20px;
            overflow: hidden;
        }

        .loading-bar-inner {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, #c41e3a, #d4af37);
            border-radius: 2px;
            animation: loading 2s ease-in-out forwards;
        }

        @keyframes loading {
            0% { width: 0%; }
            100% { width: 100%; }
        }
    </style>
</head>
<body>
    <div class="noise-overlay"></div>

    <!-- åŠ è½½åŠ¨ç”» -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-text">LOADING...</div>
        <div class="loading-bar">
            <div class="loading-bar-inner"></div>
        </div>
    </div>

    <!-- ==================== ä¸»ç•Œé¢ ==================== -->
    <div class="title-screen" id="titleScreen">
        <!-- èƒŒæ™¯å±‚ -->
        <div class="background-layer"></div>
        <div class="skyline"></div>
        <div class="street-lights">
            <div class="light-glow"></div>
            <div class="light-glow"></div>
            <div class="light-glow"></div>
        </div>
        <div class="dock"></div>

        <!-- Logo -->
        <div class="logo-container">
            <div class="game-logo">
                <div class="logo-main">GAZE<span class="in">IN</span>SHADOWS</div>
                <div class="logo-subtitle">Story-Driven Detective Game</div>
            </div>
        </div>

        <!-- èœå• -->
        <div class="menu-container">
            <ul class="menu-list" id="menuList">
                <!-- åŠ¨æ€ç”Ÿæˆ -->
            </ul>
        </div>

        <!-- ç‰ˆæƒä¿¡æ¯ -->
        <div class="copyright">
            BION INTERACTIVE ENTERTAINMENT PRESENTS
        </div>
    </div>

    <!-- æ¼”ç¤ºæŒ‰é’®å’Œä¸‹æ‹‰èœå• -->
    <div class="demo-dropdown" id="demoDropdown">
        <div class="demo-dropdown-item" onclick="showConflictModal(); toggleDemoMenu();">
            <span class="icon">âš”ï¸</span>å­˜æ¡£å†²çªå¼¹çª—
        </div>
        <div class="demo-dropdown-item" onclick="showRecoveryModal(); toggleDemoMenu();">
            <span class="icon">âš ï¸</span>æ¢å¤è¿›åº¦å¼¹çª—
        </div>
        <div class="demo-dropdown-item" onclick="showNewGameConfirm(); toggleDemoMenu();">
            <span class="icon">ğŸ®</span>æ–°æ¸¸æˆç¡®è®¤å¼¹çª—
        </div>
        <div class="demo-dropdown-item" onclick="showDifficulty(); toggleDemoMenu();">
            <span class="icon">âš™ï¸</span>éš¾åº¦é€‰æ‹©å¼¹çª—
        </div>
        <div class="demo-dropdown-item" onclick="showQuitConfirm(); toggleDemoMenu();">
            <span class="icon">ğŸšª</span>é€€å‡ºç¡®è®¤å¼¹çª—
        </div>
    </div>
    <button class="demo-btn" onclick="toggleDemoMenu()">
        æ¼”ç¤ºå¼¹çª—
    </button>

    <!-- ç­–åˆ’æ¡ˆæŒ‰é’® -->
    <button class="doc-btn" onclick="openDoc()">
        ç­–åˆ’æ¡ˆ
    </button>

    <!-- ==================== éš¾åº¦é€‰æ‹©å¼¹çª— ==================== -->
    <div class="modal-overlay difficulty-modal" id="difficultyModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>SELECT DIFFICULTY</h2>
                <button class="modal-close" onclick="closeDifficulty()">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="difficulty-option" id="normalMode" onclick="selectDifficulty('normal')">
                    <h3>NORMAL MODE</h3>
                    <p>æä¾›é€‚é‡æç¤ºï¼Œä¸“æ³¨æ•…äº‹ä½“éªŒ</p>
                    <p>çƒ­åŒºé«˜äº®ã€å…³é”®è¯ä¸‹åˆ’çº¿ã€ç»„åˆæç¤º</p>
                    <span class="recommend">æ¨èé¦–æ¬¡æ¸¸ç©</span>
                </div>
                <div class="difficulty-option" id="expertMode" onclick="selectDifficulty('expert')">
                    <h3>EXPERT MODE</h3>
                    <p>æ— ä»»ä½•æç¤ºï¼Œçº¯ç²¹æ¨ç†æŒ‘æˆ˜</p>
                    <p>æ¯è½®æœ€å¤š3æ¬¡é”™è¯¯ï¼Œè€ƒéªŒçœŸæ­£çš„æ¨ç†èƒ½åŠ›</p>
                    <span class="recommend" style="background:rgba(196,30,58,0.2);color:#e85a5a;border-color:#c41e3a;">æ¨ç†è€ç©å®¶</span>
                </div>
                <p class="difficulty-note">* éš¾åº¦å¯åœ¨æ¸¸æˆä¸­éšæ—¶è°ƒæ•´</p>
                <button class="start-game-btn" onclick="startGame()">å¼€å§‹æ¸¸æˆ</button>
            </div>
        </div>
    </div>

    <!-- ==================== æ–°æ¸¸æˆç¡®è®¤å¼¹çª— ==================== -->
    <div class="modal-overlay confirm-modal" id="newGameConfirm">
        <div class="modal-content">
            <div class="modal-header">
                <h2>START NEW GAME?</h2>
                <button class="modal-close" onclick="closeConfirm()">Ã—</button>
            </div>
            <div class="modal-body">
                <p class="confirm-text">å¼€å§‹æ–°æ¸¸æˆå°†è¦†ç›–å½“å‰è¿›åº¦ã€‚<br>æ‚¨ç¡®å®šè¦é‡æ–°å¼€å§‹å—ï¼Ÿ</p>
                <div class="confirm-info">
                    <div class="row">
                        <span class="label">å½“å‰è¿›åº¦</span>
                        <span class="value">Chapter 2 - å¨èƒé“¾æ¡</span>
                    </div>
                    <div class="row">
                        <span class="label">æ¸¸ç©æ—¶é•¿</span>
                        <span class="value">2å°æ—¶35åˆ†</span>
                    </div>
                </div>
                <div class="confirm-buttons">
                    <button class="confirm-btn cancel" onclick="closeConfirm()">å–æ¶ˆ</button>
                    <button class="confirm-btn confirm" onclick="confirmNewGame()">ç¡®è®¤å¼€å§‹</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ==================== æ¢å¤è¿›åº¦å¼¹çª— ==================== -->
    <div class="modal-overlay confirm-modal recovery-modal" id="recoveryModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>RECOVER PROGRESS?</h2>
                <button class="modal-close" onclick="closeRecovery()">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="recovery-icon">âš ï¸</div>
                <p class="confirm-text" style="text-align:center;">æ£€æµ‹åˆ°æ¸¸æˆä¸Šæ¬¡æœªæ­£å¸¸é€€å‡ºã€‚<br>æ˜¯å¦æ¢å¤åˆ°ä¸Šæ¬¡çš„æ¸¸æˆè¿›åº¦ï¼Ÿ</p>
                <div class="confirm-info">
                    <div class="row">
                        <span class="label">æ¢å¤ç‚¹</span>
                        <span class="value">Chapter 2 - å¨èƒé“¾æ¡</span>
                    </div>
                    <div class="row">
                        <span class="label">åœºæ™¯</span>
                        <span class="value">èµŒåœº</span>
                    </div>
                    <div class="row">
                        <span class="label">æ—¶é—´</span>
                        <span class="value">2025-12-07 15:32</span>
                    </div>
                </div>
                <div class="confirm-buttons">
                    <button class="confirm-btn cancel" onclick="ignoreRecovery()">å¿½ç•¥</button>
                    <button class="confirm-btn confirm" onclick="recoverProgress()">æ¢å¤è¿›åº¦</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ==================== å­˜æ¡£å†²çªå¼¹çª— ==================== -->
    <div class="modal-overlay confirm-modal conflict-modal" id="conflictModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>SAVE CONFLICT DETECTED</h2>
                <button class="modal-close" onclick="closeConflict()">Ã—</button>
            </div>
            <div class="modal-body">
                <p class="confirm-text" style="text-align:center;">æ£€æµ‹åˆ°æœ¬åœ°å­˜æ¡£ä¸äº‘ç«¯å­˜æ¡£ä¸ä¸€è‡´ã€‚</p>
                <div class="conflict-saves">
                    <div class="save-option" onclick="selectSave('local')">
                        <h4>æœ¬åœ°å­˜æ¡£</h4>
                        <div class="info">
                            <strong>Chapter 3</strong><br>
                            æ å¤ºæ€§è´·æ¬¾æ­éœ²<br>
                            æ¸¸ç©æ—¶é•¿ï¼š3å°æ—¶12åˆ†<br>
                            æ—¶é—´ï¼š12-07 16:00
                        </div>
                        <button class="use-btn" onclick="useSave('local')">ä½¿ç”¨æ­¤å­˜æ¡£</button>
                    </div>
                    <div class="save-option" onclick="selectSave('cloud')">
                        <h4>äº‘ç«¯å­˜æ¡£</h4>
                        <div class="info">
                            <strong>Chapter 2</strong><br>
                            å¨èƒé“¾æ¡ä¸è¿å·é’ç¥¨<br>
                            æ¸¸ç©æ—¶é•¿ï¼š2å°æ—¶05åˆ†<br>
                            æ—¶é—´ï¼š12-06 22:30
                        </div>
                        <button class="use-btn" onclick="useSave('cloud')">ä½¿ç”¨æ­¤å­˜æ¡£</button>
                    </div>
                </div>
                <button class="conflict-later-btn" onclick="decideLater()">ç¨åå†³å®šï¼ˆæš‚ç”¨æœ¬åœ°ï¼‰</button>
            </div>
        </div>
    </div>

    <!-- ==================== é€€å‡ºç¡®è®¤å¼¹çª— ==================== -->
    <div class="modal-overlay confirm-modal" id="quitConfirm">
        <div class="modal-content">
            <div class="modal-header">
                <h2>QUIT GAME?</h2>
                <button class="modal-close" onclick="closeQuit()">Ã—</button>
            </div>
            <div class="modal-body">
                <p class="confirm-text" style="text-align:center;">ç¡®å®šè¦é€€å‡ºæ¸¸æˆå—ï¼Ÿ</p>
                <div class="confirm-buttons" style="justify-content:center;">
                    <button class="confirm-btn cancel" onclick="closeQuit()">å–æ¶ˆ</button>
                    <button class="confirm-btn confirm" onclick="quitGame()">ç¡®å®š</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ==================== ç­–åˆ’æ¡ˆå¼¹çª— ==================== -->
    <div class="modal-overlay" id="docModal">
        <div class="modal-content" style="max-width:1000px;">
            <div class="modal-header">
                <h2>å¼€å§‹ç•Œé¢ç³»ç»Ÿ - ç­–åˆ’æ¡ˆ</h2>
                <button class="modal-close" onclick="closeDoc()">Ã—</button>
            </div>
            <div class="modal-body">
                <!-- ç³»ç»Ÿæ¦‚è¿° -->
                <div class="doc-section">
                    <h3>ä¸€ã€ç³»ç»Ÿæ¦‚è¿°</h3>
                    <p><strong>ç³»ç»Ÿåç§°</strong>ï¼šå¼€å§‹ç•Œé¢ç³»ç»Ÿï¼ˆTitle Screen / Main Menuï¼‰</p>
                    <p><strong>ç³»ç»Ÿå®šä½</strong>ï¼šç©å®¶å¯åŠ¨æ¸¸æˆåçš„é¦–ä¸ªç•Œé¢ï¼Œæ‰¿æ‹…å“ç‰Œå±•ç¤ºã€è¿›åº¦å…¥å£ã€è®¾ç½®ç®¡ç†ç­‰æ ¸å¿ƒèŒè´£ã€‚</p>

                    <div class="highlight-box">
                        <h5>æ ¸å¿ƒè®¾è®¡ç†å¿µ</h5>
                        <p>ã€Œä¾¦æ¢æ¡£æ¡ˆå®¤çš„å…¥å£ã€- ä¸»ç•Œé¢é‡‡ç”¨1920å¹´ä»£èŠåŠ å“¥è¡—æ™¯ä½œä¸ºèƒŒæ™¯ï¼Œé…åˆå¤å¤çº¢é»‘é…è‰²å’Œæ‰“å­—æœºå­—ä½“ï¼Œè®©ç©å®¶åœ¨è¿›å…¥æ¸¸æˆå‰å°±æ„Ÿå—åˆ°é»„æ˜å¹´ä»£çš„ä¾¦æ¢æ°›å›´ã€‚</p>
                    </div>

                    <h4>1.1 è®¾è®¡ç›®æ ‡</h4>
                    <table class="doc-table">
                        <tr>
                            <th>ç›®æ ‡</th>
                            <th>è¯´æ˜</th>
                        </tr>
                        <tr>
                            <td>å¿«é€Ÿè¿›å…¥</td>
                            <td>ç©å®¶èƒ½åœ¨3æ¬¡ç‚¹å‡»å†…å¼€å§‹/ç»§ç»­æ¸¸æˆ</td>
                        </tr>
                        <tr>
                            <td>çŠ¶æ€æ¸…æ™°</td>
                            <td>æ¸…æ™°å±•ç¤ºæ¸¸æˆè¿›åº¦ã€å­˜æ¡£çŠ¶æ€</td>
                        </tr>
                        <tr>
                            <td>å®¹é”™è®¾è®¡</td>
                            <td>æ–­çº¿ã€å´©æºƒåèƒ½è‡ªåŠ¨æ¢å¤è¿›åº¦</td>
                        </tr>
                        <tr>
                            <td>å¹³å°å…¼å®¹</td>
                            <td>æ”¯æŒSteamäº‘å­˜æ¡£ï¼Œå¤šè®¾å¤‡åŒæ­¥</td>
                        </tr>
                    </table>
                </div>

                <!-- èœå•é€‰é¡¹ -->
                <div class="doc-section">
                    <h3>äºŒã€èœå•é€‰é¡¹</h3>

                    <h4>2.1 èœå•åˆ—è¡¨</h4>
                    <table class="doc-table">
                        <tr>
                            <th>è‹±æ–‡åç§°</th>
                            <th>ä¸­æ–‡åç§°</th>
                            <th>åŠŸèƒ½è¯´æ˜</th>
                        </tr>
                        <tr>
                            <td>CONTINUE</td>
                            <td>ç»§ç»­æ¸¸æˆ</td>
                            <td>åŠ è½½æœ€è¿‘å­˜æ¡£ï¼Œæœ‰å­˜æ¡£æ—¶æ˜¾ç¤º</td>
                        </tr>
                        <tr>
                            <td>NEW GAME</td>
                            <td>æ–°æ¸¸æˆ</td>
                            <td>å¼€å§‹å…¨æ–°æ¸¸æˆï¼ˆæœ‰å­˜æ¡£æ—¶éœ€ç¡®è®¤ï¼‰</td>
                        </tr>
                        <tr>
                            <td>CHAPTER SELECT</td>
                            <td>ç« èŠ‚é€‰æ‹©</td>
                            <td>é€‰æ‹©å·²è§£é”ç« èŠ‚å¼€å§‹/é‡ç©</td>
                        </tr>
                        <tr>
                            <td>ACHIEVEMENT</td>
                            <td>æˆå°±</td>
                            <td>æŸ¥çœ‹æˆå°±åˆ—è¡¨å’Œè§£é”çŠ¶æ€</td>
                        </tr>
                        <tr>
                            <td>SETTINGS</td>
                            <td>è®¾ç½®</td>
                            <td>è¿›å…¥è®¾ç½®ç³»ç»Ÿ</td>
                        </tr>
                        <tr>
                            <td>DOWNLOAD</td>
                            <td>ä¸‹è½½</td>
                            <td>DLCå†…å®¹ä¸‹è½½ï¼ˆé¢„ç•™ï¼‰</td>
                        </tr>
                        <tr>
                            <td>CREDITS</td>
                            <td>åˆ¶ä½œäººå‘˜</td>
                            <td>æŸ¥çœ‹åˆ¶ä½œå›¢é˜Ÿåå•</td>
                        </tr>
                        <tr>
                            <td>QUIT</td>
                            <td>é€€å‡º</td>
                            <td>é€€å‡ºæ¸¸æˆ</td>
                        </tr>
                    </table>

                    <h4>2.2 åŠ¨æ€èœå•è§„åˆ™</h4>
                    <table class="doc-table">
                        <tr>
                            <th>å­˜æ¡£çŠ¶æ€</th>
                            <th>èœå•å˜åŒ–</th>
                        </tr>
                        <tr>
                            <td>æ— å­˜æ¡£ï¼ˆé¦–æ¬¡å¯åŠ¨ï¼‰</td>
                            <td>ä»…æ˜¾ç¤º NEW GAMEï¼ŒCHAPTER SELECT ç°è‰²ä¸å¯ç‚¹å‡»</td>
                        </tr>
                        <tr>
                            <td>æœ‰è¿›è¡Œä¸­å­˜æ¡£</td>
                            <td>NEW GAME ä¸Šæ–¹æ–°å¢ CONTINUE é€‰é¡¹ï¼Œä¸”é»˜è®¤é€‰ä¸­</td>
                        </tr>
                        <tr>
                            <td>æœ‰å·²å®Œæˆç« èŠ‚</td>
                            <td>CHAPTER SELECT å¯ç”¨</td>
                        </tr>
                    </table>
                </div>

                <!-- å­˜æ¡£ç³»ç»Ÿ -->
                <div class="doc-section">
                    <h3>ä¸‰ã€å­˜æ¡£ç³»ç»Ÿ</h3>

                    <h4>3.1 å­˜æ¡£ç±»å‹</h4>
                    <table class="doc-table">
                        <tr>
                            <th>å­˜æ¡£ç±»å‹</th>
                            <th>è§¦å‘æ—¶æœº</th>
                            <th>ä¿å­˜ä½ç½®</th>
                            <th>ä¿ç•™ç­–ç•¥</th>
                        </tr>
                        <tr>
                            <td>ç« èŠ‚å­˜æ¡£</td>
                            <td>ç« èŠ‚ç»“æŸï¼ˆæŒ‡è¯æˆåŠŸï¼‰</td>
                            <td>æœ¬åœ°+äº‘ç«¯</td>
                            <td>æ°¸ä¹…ä¿ç•™</td>
                        </tr>
                        <tr>
                            <td>è‡ªåŠ¨å­˜æ¡£</td>
                            <td>å…³é”®èŠ‚ç‚¹è‡ªåŠ¨è§¦å‘</td>
                            <td>æœ¬åœ°+äº‘ç«¯</td>
                            <td>ä¿ç•™æœ€è¿‘3ä¸ª</td>
                        </tr>
                        <tr>
                            <td>ä¸´æ—¶å­˜æ¡£</td>
                            <td>é€€å‡ºæ¸¸æˆæ—¶</td>
                            <td>ä»…æœ¬åœ°</td>
                            <td>ä¸‹æ¬¡å¯åŠ¨åæ¸…é™¤</td>
                        </tr>
                        <tr>
                            <td>å¿«ç…§å­˜æ¡£</td>
                            <td>æ¯10åˆ†é’Ÿè‡ªåŠ¨åˆ›å»º</td>
                            <td>ä»…æœ¬åœ°</td>
                            <td>ä¿ç•™æœ€è¿‘1ä¸ª</td>
                        </tr>
                    </table>

                    <h4>3.2 è‡ªåŠ¨å­˜æ¡£è§¦å‘ç‚¹</h4>
                    <ul>
                        <li>ç« èŠ‚å¼€å§‹ï¼ˆè¿›å…¥æ–°ç« èŠ‚å¼€ç¯‡æ—¶ï¼‰</li>
                        <li>åœºæ™¯åˆ‡æ¢ï¼ˆä»ä¸€ä¸ªåœºæ™¯ç§»åŠ¨åˆ°å¦ä¸€ä¸ªåœºæ™¯ï¼‰</li>
                        <li>å…³é”®å¯¹è¯å®Œæˆï¼ˆå®Œæˆé‡è¦NPCå¯¹è¯åï¼‰</li>
                        <li>è¯æ®è·å–ï¼ˆè·å¾—æ–°è¯æ®æ—¶ï¼‰</li>
                        <li>è¿›å…¥æŒ‡è¯é˜¶æ®µï¼ˆè§¦å‘æŒ‡è¯æˆ˜æ–—å‰ï¼‰</li>
                        <li>æŒ‡è¯è½®æ¬¡å®Œæˆï¼ˆæ¯è½®æŒ‡è¯æˆåŠŸåï¼‰</li>
                    </ul>
                </div>

                <!-- æ–­çº¿é‡è¿ -->
                <div class="doc-section">
                    <h3>å››ã€æ–­çº¿é‡è¿ä¸å¼‚å¸¸æ¢å¤</h3>

                    <div class="highlight-box warning">
                        <h5>æ ¸å¿ƒåŸåˆ™</h5>
                        <p>ã€Œç©å®¶ä¸åº”å› æŠ€æœ¯é—®é¢˜ä¸¢å¤±ä»»ä½•è¿›åº¦ã€- æ— è®ºæ˜¯æ¸¸æˆå´©æºƒã€ç³»ç»Ÿæ–­ç”µã€ç½‘ç»œä¸­æ–­è¿˜æ˜¯æ‰‹åŠ¨å¼ºåˆ¶é€€å‡ºï¼Œç³»ç»Ÿéƒ½åº”å°½å¯èƒ½æ¢å¤ç©å®¶çš„æœ€è¿‘è¿›åº¦ã€‚</p>
                    </div>

                    <h4>4.1 å¼‚å¸¸åœºæ™¯å¤„ç†</h4>
                    <table class="doc-table">
                        <tr>
                            <th>å¼‚å¸¸åœºæ™¯</th>
                            <th>æ£€æµ‹æ–¹å¼</th>
                            <th>æ¢å¤ç­–ç•¥</th>
                        </tr>
                        <tr>
                            <td>æ¸¸æˆå´©æºƒ</td>
                            <td>ä¸‹æ¬¡å¯åŠ¨æ£€æµ‹åˆ°æœªæ­£å¸¸é€€å‡ºæ ‡è®°</td>
                            <td>åŠ è½½æœ€è¿‘å¿«ç…§å­˜æ¡£</td>
                        </tr>
                        <tr>
                            <td>ç³»ç»Ÿæ–­ç”µ</td>
                            <td>åŒä¸Š</td>
                            <td>åŠ è½½æœ€è¿‘å¿«ç…§å­˜æ¡£</td>
                        </tr>
                        <tr>
                            <td>å¼ºåˆ¶é€€å‡ºï¼ˆAlt+F4ï¼‰</td>
                            <td>åŒä¸Š</td>
                            <td>åŠ è½½æœ€è¿‘å¿«ç…§å­˜æ¡£</td>
                        </tr>
                        <tr>
                            <td>Steamç¦»çº¿æ¨¡å¼</td>
                            <td>æ£€æµ‹Steam APIçŠ¶æ€</td>
                            <td>ä½¿ç”¨æœ¬åœ°å­˜æ¡£ï¼Œç¨ååŒæ­¥</td>
                        </tr>
                        <tr>
                            <td>äº‘å­˜æ¡£åŒæ­¥å¤±è´¥</td>
                            <td>Steam APIè¿”å›é”™è¯¯</td>
                            <td>ä¿ç•™æœ¬åœ°å­˜æ¡£ï¼Œæç¤ºç”¨æˆ·</td>
                        </tr>
                    </table>

                    <h4>4.2 å¼‚å¸¸é€€å‡ºæ£€æµ‹æœºåˆ¶</h4>
                    <div class="flow-diagram">
                        <div class="flow-step">
                            <div class="num">STEP 1</div>
                            <div class="text">æ¸¸æˆå¯åŠ¨</div>
                        </div>
                        <div class="flow-arrow">â†’</div>
                        <div class="flow-step highlight">
                            <div class="num">STEP 2</div>
                            <div class="text">æ£€æµ‹è¿è¡Œä¸­æ ‡è®°</div>
                        </div>
                        <div class="flow-arrow">â†’</div>
                        <div class="flow-step">
                            <div class="num">STEP 3</div>
                            <div class="text">å­˜åœ¨ï¼Ÿæ˜¾ç¤ºæ¢å¤å¼¹çª—</div>
                        </div>
                        <div class="flow-arrow">â†’</div>
                        <div class="flow-step">
                            <div class="num">STEP 4</div>
                            <div class="text">æ¢å¤/å¿½ç•¥</div>
                        </div>
                    </div>

                    <p><strong>å®ç°åŸç†</strong>ï¼šæ¸¸æˆå¯åŠ¨æ—¶åˆ›å»º"è¿è¡Œä¸­"æ ‡è®°æ–‡ä»¶ï¼Œæ­£å¸¸é€€å‡ºæ—¶åˆ é™¤è¯¥æ ‡è®°ã€‚ä¸‹æ¬¡å¯åŠ¨æ£€æµ‹æ ‡è®°æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œè‹¥å­˜åœ¨è¯´æ˜ä¸Šæ¬¡éæ­£å¸¸é€€å‡ºã€‚</p>
                </div>

                <!-- Steamäº‘å­˜æ¡£ -->
                <div class="doc-section">
                    <h3>äº”ã€Steamäº‘å­˜æ¡£é›†æˆ</h3>

                    <h4>5.1 äº‘å­˜æ¡£èŒƒå›´</h4>
                    <table class="doc-table">
                        <tr>
                            <th>æ•°æ®ç±»å‹</th>
                            <th>æ˜¯å¦åŒæ­¥</th>
                            <th>è¯´æ˜</th>
                        </tr>
                        <tr>
                            <td>ç« èŠ‚å­˜æ¡£</td>
                            <td>âœ… åŒæ­¥</td>
                            <td>æ ¸å¿ƒè¿›åº¦æ•°æ®</td>
                        </tr>
                        <tr>
                            <td>è‡ªåŠ¨å­˜æ¡£</td>
                            <td>âœ… åŒæ­¥</td>
                            <td>ä¿ç•™æœ€è¿‘3ä¸ª</td>
                        </tr>
                        <tr>
                            <td>ä¸´æ—¶å­˜æ¡£</td>
                            <td>âŒ ä¸åŒæ­¥</td>
                            <td>ä»…æœ¬åœ°ä¸´æ—¶ä½¿ç”¨</td>
                        </tr>
                        <tr>
                            <td>å¿«ç…§å­˜æ¡£</td>
                            <td>âŒ ä¸åŒæ­¥</td>
                            <td>ä»…ç”¨äºå´©æºƒæ¢å¤</td>
                        </tr>
                        <tr>
                            <td>è®¾ç½®æ•°æ®</td>
                            <td>âœ… åŒæ­¥</td>
                            <td>éš¾åº¦ã€éŸ³é‡ç­‰è®¾ç½®</td>
                        </tr>
                    </table>

                    <h4>5.2 å­˜æ¡£å†²çªå¤„ç†</h4>
                    <p>å½“æœ¬åœ°å­˜æ¡£ä¸äº‘ç«¯å­˜æ¡£ä¸ä¸€è‡´æ—¶ï¼Œç³»ç»Ÿä¼šæ˜¾ç¤ºå†²çªè§£å†³å¼¹çª—ï¼Œè®©ç©å®¶è‡ªä¸»é€‰æ‹©ä½¿ç”¨å“ªä¸ªå­˜æ¡£ã€‚è¢«æ”¾å¼ƒçš„å­˜æ¡£ä¼šç§»è‡³å¤‡ä»½ç›®å½•ï¼Œä¸ç«‹å³åˆ é™¤ã€‚</p>
                </div>

                <!-- å¯åŠ¨æµç¨‹ -->
                <div class="doc-section">
                    <h3>å…­ã€å¯åŠ¨æµç¨‹</h3>

                    <div class="flow-diagram">
                        <div class="flow-step">
                            <div class="num">1</div>
                            <div class="text">æ˜¾ç¤ºå…¬å¸Logo</div>
                        </div>
                        <div class="flow-arrow">â†’</div>
                        <div class="flow-step">
                            <div class="num">2</div>
                            <div class="text">æ˜¾ç¤ºæ¸¸æˆLogo</div>
                        </div>
                        <div class="flow-arrow">â†’</div>
                        <div class="flow-step">
                            <div class="num">3</div>
                            <div class="text">åˆå§‹åŒ–ç³»ç»Ÿ</div>
                        </div>
                        <div class="flow-arrow">â†’</div>
                        <div class="flow-step highlight">
                            <div class="num">4</div>
                            <div class="text">æ£€æµ‹å¼‚å¸¸/å†²çª</div>
                        </div>
                        <div class="flow-arrow">â†’</div>
                        <div class="flow-step">
                            <div class="num">5</div>
                            <div class="text">æ˜¾ç¤ºä¸»èœå•</div>
                        </div>
                    </div>

                    <h4>6.1 é¦–æ¬¡å¯åŠ¨ç‰¹æ®Šå¤„ç†</h4>
                    <ol>
                        <li>æ˜¾ç¤ºè¯­è¨€é€‰æ‹©ç•Œé¢ï¼ˆè‹±è¯­/ç®€ä½“ä¸­æ–‡ï¼‰</li>
                        <li>æ˜¾ç¤ºç®€è¦æ“ä½œè¯´æ˜</li>
                        <li>è¿›å…¥ä¸»èœå•ï¼ŒNEW GAMEä¸ºå”¯ä¸€å¯ç”¨é€‰é¡¹</li>
                        <li>ç‚¹å‡»NEW GAMEåæ˜¾ç¤ºéš¾åº¦é€‰æ‹©</li>
                    </ol>
                </div>

                <!-- å‚è€ƒèµ„æ–™ -->
                <div class="doc-section">
                    <h3>ä¸ƒã€å‚è€ƒèµ„æ–™</h3>
                    <ul>
                        <li><strong>é€†è½¬è£åˆ¤ç³»åˆ—</strong> - ç« èŠ‚å­˜æ¡£æœºåˆ¶ã€é€šå…³åèœå•è§£é”</li>
                        <li><strong>å¼¹ä¸¸è®ºç ´ç³»åˆ—</strong> - éš¾åº¦é€‰æ‹©ã€è¿›åº¦å›é¡¾ç³»ç»Ÿ</li>
                        <li><strong>é»‘ç¥è¯æ‚Ÿç©º</strong> - å¤šå±‚è‡ªåŠ¨å­˜æ¡£æœºåˆ¶ï¼ˆå³æ—¶/å°æ—¶/æ¯æ—¥ï¼‰</li>
                        <li><a href="https://zhuanlan.zhihu.com/p/675106836" style="color:#5aafe8;">å•æœºæ¸¸æˆæ•°æ®è‡ªåŠ¨ä¿å­˜æ–¹æ¡ˆ</a></li>
                        <li><a href="https://www.zhihu.com/question/39385118" style="color:#5aafe8;">Steamäº‘å­˜æ¡£æœºåˆ¶</a></li>
                    </ul>
                </div>

                <!-- æ¼”ç¤ºåŠŸèƒ½ -->
                <div class="doc-section">
                    <h3>å…«ã€å¼¹çª—æ¼”ç¤º</h3>
                    <p>ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¯é¢„è§ˆå„ç§å¼¹çª—æ•ˆæœï¼š</p>
                    <div style="display:flex; flex-wrap:wrap; gap:10px; margin-top:15px;">
                        <button onclick="closeDoc(); setTimeout(showConflictModal, 300);" style="padding:10px 20px; background:linear-gradient(180deg,#9c27b0,#7b1fa2); border:2px solid #ce93d8; color:#fff; font-family:'Noto Serif SC',serif; cursor:pointer; border-radius:5px;">âš”ï¸ å­˜æ¡£å†²çªå¼¹çª—</button>
                        <button onclick="closeDoc(); setTimeout(showRecoveryModal, 300);" style="padding:10px 20px; background:linear-gradient(180deg,#f57c00,#e65100); border:2px solid #ffb74d; color:#fff; font-family:'Noto Serif SC',serif; cursor:pointer; border-radius:5px;">âš ï¸ æ¢å¤è¿›åº¦å¼¹çª—</button>
                        <button onclick="closeDoc(); setTimeout(showNewGameConfirm, 300);" style="padding:10px 20px; background:linear-gradient(180deg,#8B2323,#5a1515); border:2px solid #cd5c5c; color:#fff; font-family:'Noto Serif SC',serif; cursor:pointer; border-radius:5px;">ğŸ® æ–°æ¸¸æˆç¡®è®¤å¼¹çª—</button>
                        <button onclick="closeDoc(); setTimeout(showDifficulty, 300);" style="padding:10px 20px; background:linear-gradient(180deg,#c41e3a,#8a1528); border:2px solid #e85a5a; color:#fff; font-family:'Noto Serif SC',serif; cursor:pointer; border-radius:5px;">âš™ï¸ éš¾åº¦é€‰æ‹©å¼¹çª—</button>
                        <button onclick="closeDoc(); setTimeout(showQuitConfirm, 300);" style="padding:10px 20px; background:linear-gradient(180deg,#3a3025,#252015); border:2px solid #5a4a3a; color:#c9a86c; font-family:'Noto Serif SC',serif; cursor:pointer; border-radius:5px;">ğŸšª é€€å‡ºç¡®è®¤å¼¹çª—</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ==================== çŠ¶æ€å˜é‡ ====================
        let hasSave = true; // æ¨¡æ‹Ÿæ˜¯å¦æœ‰å­˜æ¡£
        let hasCompletedChapter = true; // æ¨¡æ‹Ÿæ˜¯å¦æœ‰å·²å®Œæˆç« èŠ‚
        let selectedDifficulty = 'normal';

        // ==================== åˆå§‹åŒ– ====================
        window.onload = function() {
            // æ¨¡æ‹ŸåŠ è½½
            setTimeout(() => {
                document.getElementById('loadingOverlay').classList.add('hidden');
                initMenu();

                // æ¨¡æ‹Ÿæ£€æµ‹åˆ°å¼‚å¸¸é€€å‡ºï¼ˆæ¼”ç¤ºç”¨ï¼Œå¯æ³¨é‡Šæ‰ï¼‰
                // setTimeout(() => showRecoveryModal(), 1000);
            }, 2500);
        };

        // åˆå§‹åŒ–èœå•
        function initMenu() {
            const menuList = document.getElementById('menuList');
            let menuItems = [];

            if (hasSave) {
                menuItems.push({
                    id: 'continue',
                    text: 'CONTINUE',
                    hint: 'Chapter 2 - å¨èƒé“¾æ¡',
                    active: true,
                    action: 'continueGame()'
                });
            }

            menuItems.push({
                id: 'newgame',
                text: 'NEW GAME',
                active: !hasSave,
                action: hasSave ? 'showNewGameConfirm()' : 'showDifficulty()'
            });

            menuItems.push({
                id: 'chapter',
                text: 'CHAPTER SELECT',
                disabled: !hasCompletedChapter,
                action: 'goToChapterSelect()'
            });

            menuItems.push({
                id: 'achievement',
                text: 'ACHIEVEMENT',
                action: 'showMessage("æˆå°±ç³»ç»Ÿ")'
            });

            menuItems.push({
                id: 'settings',
                text: 'SETTINGS',
                action: 'goToSettings()'
            });

            menuItems.push({
                id: 'download',
                text: 'DOWNLOAD',
                disabled: true,
                action: 'showMessage("æ•¬è¯·æœŸå¾…")'
            });

            menuItems.push({
                id: 'credits',
                text: 'CREDITS',
                action: 'showMessage("åˆ¶ä½œäººå‘˜åå•")'
            });

            menuItems.push({
                id: 'quit',
                text: 'QUIT',
                action: 'showQuitConfirm()'
            });

            // ç”Ÿæˆèœå•HTML
            let html = '';
            menuItems.forEach((item, index) => {
                const activeClass = item.active ? ' active' : '';
                const disabledClass = item.disabled ? ' disabled' : '';
                const hintHtml = item.hint ? `<span class="progress-hint">${item.hint}</span>` : '';

                html += `
                    <li class="menu-item${activeClass}${disabledClass}"
                        onclick="${item.disabled ? '' : item.action}"
                        onmouseenter="hoverMenu(this)"
                        onmouseleave="unhoverMenu(this)">
                        <div class="menu-item-inner">
                            <span class="menu-text">${item.text}</span>
                            ${hintHtml}
                        </div>
                    </li>
                `;
            });

            menuList.innerHTML = html;
        }

        // èœå•æ‚¬åœæ•ˆæœ
        function hoverMenu(el) {
            if (el.classList.contains('disabled')) return;
            document.querySelectorAll('.menu-item').forEach(item => {
                item.classList.remove('active');
            });
        }

        function unhoverMenu(el) {
            // æ¢å¤é»˜è®¤é€‰ä¸­é¡¹
            const continueItem = document.querySelector('.menu-item:first-child');
            if (hasSave && continueItem) {
                continueItem.classList.add('active');
            }
        }

        // ==================== èœå•åŠŸèƒ½ ====================
        function continueGame() {
            showMessage('æ­£åœ¨åŠ è½½å­˜æ¡£...\n\nï¼ˆæ¼”ç¤ºåŠŸèƒ½ï¼‰');
        }

        function showNewGameConfirm() {
            document.getElementById('newGameConfirm').classList.add('active');
        }

        function closeConfirm() {
            document.getElementById('newGameConfirm').classList.remove('active');
        }

        function confirmNewGame() {
            closeConfirm();
            showDifficulty();
        }

        function showDifficulty() {
            document.getElementById('difficultyModal').classList.add('active');
            selectDifficulty('normal');
        }

        function closeDifficulty() {
            document.getElementById('difficultyModal').classList.remove('active');
        }

        function selectDifficulty(mode) {
            selectedDifficulty = mode;
            document.getElementById('normalMode').classList.toggle('selected', mode === 'normal');
            document.getElementById('expertMode').classList.toggle('selected', mode === 'expert');
        }

        function startGame() {
            closeDifficulty();
            showMessage(`å¼€å§‹æ–°æ¸¸æˆ\néš¾åº¦ï¼š${selectedDifficulty === 'normal' ? 'æ™®é€šæ¨¡å¼' : 'ä¸“å®¶æ¨¡å¼'}\n\nï¼ˆæ¼”ç¤ºåŠŸèƒ½ï¼‰`);
        }

        function goToChapterSelect() {
            // ä»å¼€å§‹ç•Œé¢è¿›å…¥ï¼Œå¸¦mode=selectå‚æ•°ï¼Œå…ˆæ˜¾ç¤ºç« èŠ‚é€‰æ‹©ç•Œé¢
            window.location.href = '../æ¡ˆæƒ…å›é¡¾ç³»ç»Ÿ/case_review_system.html?mode=select';
        }

        function goToSettings() {
            window.location.href = '../è®¾ç½®ç³»ç»Ÿ/settings_system.html';
        }

        function showQuitConfirm() {
            document.getElementById('quitConfirm').classList.add('active');
        }

        function closeQuit() {
            document.getElementById('quitConfirm').classList.remove('active');
        }

        function quitGame() {
            showMessage('é€€å‡ºæ¸¸æˆ\n\nï¼ˆæ¼”ç¤ºåŠŸèƒ½ï¼‰');
            closeQuit();
        }

        // ==================== æ¢å¤è¿›åº¦å¼¹çª— ====================
        function showRecoveryModal() {
            document.getElementById('recoveryModal').classList.add('active');
        }

        function closeRecovery() {
            document.getElementById('recoveryModal').classList.remove('active');
        }

        function ignoreRecovery() {
            closeRecovery();
            showMessage('å·²å¿½ç•¥æ¢å¤ç‚¹');
        }

        function recoverProgress() {
            closeRecovery();
            showMessage('æ­£åœ¨æ¢å¤è¿›åº¦...\n\nï¼ˆæ¼”ç¤ºåŠŸèƒ½ï¼‰');
        }

        // ==================== å­˜æ¡£å†²çªå¼¹çª— ====================
        function showConflictModal() {
            document.getElementById('conflictModal').classList.add('active');
        }

        function closeConflict() {
            document.getElementById('conflictModal').classList.remove('active');
        }

        function selectSave(type) {
            document.querySelectorAll('.save-option').forEach(el => {
                el.classList.remove('selected');
            });
            event.currentTarget.classList.add('selected');
        }

        function useSave(type) {
            closeConflict();
            showMessage(`ä½¿ç”¨${type === 'local' ? 'æœ¬åœ°' : 'äº‘ç«¯'}å­˜æ¡£\n\nï¼ˆæ¼”ç¤ºåŠŸèƒ½ï¼‰`);
        }

        function decideLater() {
            closeConflict();
            showMessage('æš‚æ—¶ä½¿ç”¨æœ¬åœ°å­˜æ¡£\nä¸‹æ¬¡å¯åŠ¨æ—¶å°†å†æ¬¡è¯¢é—®');
        }

        // ==================== ç­–åˆ’æ¡ˆå¼¹çª— ====================
        function openDoc() {
            document.getElementById('docModal').classList.add('active');
        }

        function closeDoc() {
            document.getElementById('docModal').classList.remove('active');
        }

        // ==================== å·¥å…·å‡½æ•° ====================
        function showMessage(msg) {
            alert(msg);
        }

        // ç‚¹å‡»å¼¹çª—èƒŒæ™¯å…³é—­
        document.querySelectorAll('.modal-overlay').forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('active');
                }
            });
        });

        // ESCå…³é—­å¼¹çª—
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                document.querySelectorAll('.modal-overlay.active').forEach(modal => {
                    modal.classList.remove('active');
                });
            }
        });

        // ==================== æ¼”ç¤ºèœå• ====================
        function toggleDemoMenu() {
            const dropdown = document.getElementById('demoDropdown');
            dropdown.classList.toggle('active');
        }

        // ç‚¹å‡»å…¶ä»–åŒºåŸŸå…³é—­æ¼”ç¤ºèœå•
        document.addEventListener('click', function(e) {
            const dropdown = document.getElementById('demoDropdown');
            const demoBtn = document.querySelector('.demo-btn');
            if (!dropdown.contains(e.target) && e.target !== demoBtn) {
                dropdown.classList.remove('active');
            }
        });
    </script>
</body>
</html>
