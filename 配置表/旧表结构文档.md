# æ—§è¡¨ç»“æ„æ–‡æ¡£

## ğŸ“‹ æ–‡æ¡£è¯´æ˜

æœ¬æ–‡æ¡£è®°å½•äº†é¡¹ç›®åŸæœ‰çš„é…ç½®è¡¨ç»“æ„ï¼ŒåŒ…å«äº”ä¸ªæ ¸å¿ƒé…ç½®è¡¨ï¼šå¯¹è¯è¡¨ï¼ˆTalkï¼‰ã€è§’è‰²è¡¨ï¼ˆRoleï¼‰ã€è¯æ®è¡¨ï¼ˆEvidenceï¼‰ã€ä»»åŠ¡è¡¨ï¼ˆTaskï¼‰ã€æŒ‡è¯ä¿¡æ¯è¡¨ï¼ˆInvestigateExposeMessageï¼‰ã€‚

**è®¾è®¡ç†å¿µ**ï¼šæ•°æ®ä¸é€»è¾‘æ··åˆï¼Œé…ç½®è¡¨ä¸­åŒæ—¶åŒ…å«é™æ€æ•°æ®å’Œæ¸¸æˆé€»è¾‘ã€‚

**ç‰ˆæœ¬**ï¼šv1.0
**æ•°æ®æº**ï¼šAssets/Resources/data/*.json
**å¯¼å‡ºæ ¼å¼**ï¼šJSON

---

## 1. Talkè¡¨ï¼ˆå¯¹è¯è¡¨ï¼‰

### 1.1 è¡¨ç»“æ„

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| **DialogueID** | string | å¯¹è¯ID | D001, D002, D003 |
| **SceneID** | string | åœºæ™¯ID | SC101, SC004 |
| **NPCID** | string | NPC ID | Morrison, Zack, Rosa |
| **DialogueType** | string | å¯¹è¯ç±»å‹ | AVGï¼ˆæ–‡å­—å†’é™©ï¼‰ |
| **Icon** | string | äººç‰©èµ„æº | ï¼ˆé€šå¸¸ä¸ºç©ºï¼‰ |
| **CharacterPortrait** | string | è§’è‰²ç«‹ç»˜è¡¨æƒ… | ï¼ˆè¡¨æƒ…å˜åŒ–ï¼‰ |
| **frontContent** | string | å‰ç½®å¯¹è¯ID | D001ï¼ˆå½“å‰å¯¹è¯çš„ä¸Šä¸€å¥ï¼‰ |
| **NPCTalk** | string | è¯´è¯äººID | NPC004, NPC009 |
| **Content** | string | å¯¹è¯å†…å®¹ | èŠåŠ å“¥è­¦å±€ï¼æ”¾ä¸‹æ­¦å™¨ï¼Webbæ­»äº†ï¼Œä½ å°±æ˜¯å‡¶æ‰‹ï¼ |
| **Options** | string | å›ç­”é€‰é¡¹ï¼ˆé€—å·åˆ†éš”ï¼‰ | D003,D004,D005 |
| **IsEnd** | string | æ˜¯å¦ä¸ºç»“æŸ | 0ï¼ˆç»§ç»­ï¼‰, 1ï¼ˆç»“æŸï¼‰ |
| **VoiceFile** | string | è¯­éŸ³æ–‡ä»¶ | ï¼ˆè¯­éŸ³æ–‡ä»¶è·¯å¾„ï¼‰ |
| **ExtractHighlight** | string | è¢«æå–è¯è¯IDs | EV005, EV006 |
| **NextContent** | string | åç½®å¯¹è¯ID | D002 |
| **TriggerEvent** | string | è§¦å‘äº‹ä»¶ | EVE001, EV007_Collected |

### 1.2 æ•°æ®æ¥æº

**æ–‡ä»¶è·¯å¾„**ï¼š`Assets/Resources/data/Talk.json`

**æ€»æ•°æ®é‡**ï¼šä»D001å¼€å§‹ï¼ŒåŒ…å«å¤§é‡å¯¹è¯æ•°æ®

**è¡¨å¤´å®šä¹‰**ï¼š
- ç¬¬1è¡Œï¼šå­—æ®µä¸­æ–‡åç§°
- ç¬¬2è¡Œï¼šå­—æ®µç±»å‹å®šä¹‰
- ç¬¬3è¡Œå¼€å§‹ï¼šå®é™…æ•°æ®

### 1.3 å­—æ®µè¯¦è§£

**å¯¹è¯æµç¨‹æ§åˆ¶**ï¼š
- `frontContent`ï¼šä¸Šä¸€å¥å¯¹è¯ï¼ˆå‘å‰æŒ‡é’ˆï¼‰
- `NextContent`ï¼šä¸‹ä¸€å¥å¯¹è¯ï¼ˆå‘åæŒ‡é’ˆï¼‰
- `Options`ï¼šé€‰é¡¹åˆ†æ”¯ï¼Œé€—å·åˆ†éš”å¤šä¸ªDialogueID

**NPCå…³è”**ï¼š
- `NPCID`ï¼šå¯¹è¯å‘ç”Ÿæ—¶çš„NPCï¼ˆåœºæ™¯ç›¸å…³ï¼‰
- `NPCTalk`ï¼šå®é™…è¯´è¯çš„NPC

**äº‹ä»¶ç³»ç»Ÿ**ï¼š
- `TriggerEvent`ï¼šè§¦å‘æ¸¸æˆäº‹ä»¶
- `ExtractHighlight`ï¼šå¯æå–ä¸ºè¯è¯çš„å¯¹è¯

### 1.4 æ•°æ®ç¤ºä¾‹

```json
{
  "DialogueID": "D001",
  "SceneID": "SC101",
  "NPCID": "Morrison",
  "DialogueType": "AVG",
  "Icon": "",
  "CharacterPortrait": "",
  "FrontContent": "",
  "NPCTalk": "NPC004",
  "Content": "èŠåŠ å“¥è­¦å±€ï¼æ”¾ä¸‹æ­¦å™¨ï¼Webbæ­»äº†ï¼Œä½ å°±æ˜¯å‡¶æ‰‹ï¼",
  "Options": "",
  "IsEnd": "0",
  "VoiceFile": "",
  "ExtractHighlight": "",
  "NextContent": "D002",
  "TriggerEvent": ""
}
```

```json
{
  "DialogueID": "D002",
  "SceneID": "SC101",
  "NPCID": "Zack",
  "DialogueType": "AVG",
  "Icon": "",
  "CharacterPortrait": "",
  "FrontContent": "D001",
  "NPCTalk": "NPC009",
  "Content": "",
  "Options": "D003,D004,D005",
  "IsEnd": "0",
  "VoiceFile": "",
  "ExtractHighlight": "",
  "NextContent": "",
  "TriggerEvent": ""
}
```

---

## 2. Roleè¡¨ï¼ˆè§’è‰²/NPCè¡¨ï¼‰

### 2.1 è¡¨ç»“æ„

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| **NPCID** | string | NPCç¼–å·ï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰ | NPC001, NPC002 |
| **NPCName** | string | NPCå§“å | Webb, Rosa, Tommy |
| **RoleIcon** | string | å¤´åƒå›¾ç‰‡ | ï¼ˆå›¾ç‰‡èµ„æºåï¼‰ |
| **Portrait** | string | å¤´åƒ | note_rosa, note_tommy |
| **BgDescription** | string | èƒŒæ™¯ç®€è¿° | 50å²çš„æ¸…æ´å·¥ |
| **UnlockCondition** | string | è§£é”æ¡ä»¶ | EVE001, EVE002 |
| **SelectedState** | int | é€‰ä¸­çŠ¶æ€ | 0ï¼ˆæœªé€‰ä¸­ï¼‰, 1ï¼ˆå·²é€‰ä¸­ï¼‰ |
| **Marked** | int | æ ‡è®° | 0ï¼ˆæœªæ ‡è®°ï¼‰, 1ï¼ˆå·²æ ‡è®°ï¼‰ |
| **DialogueContent** | string | å¯¹è¯å†…å®¹ï¼ˆé€—å·åˆ†éš”ï¼‰ | DLG001,DLG003 |
| **ExposeMessage** | string | æŒ‡æ­£å†…å®¹ï¼ˆé€—å·åˆ†éš”ï¼‰ | DAT002,DAT003,DAT004 |

### 2.2 æ•°æ®æ¥æº

**æ–‡ä»¶è·¯å¾„**ï¼š`Assets/Resources/data/Role.json`

**æ€»æ•°æ®é‡**ï¼š5ä¸ªä¸»è¦NPC

**è¡¨å¤´å®šä¹‰**ï¼š
- ç¬¬1è¡Œï¼šå­—æ®µä¸­æ–‡åç§°
- ç¬¬2è¡Œï¼šå­—æ®µç±»å‹å®šä¹‰
- ç¬¬3è¡Œå¼€å§‹ï¼šå®é™…æ•°æ®

### 2.3 å­—æ®µè¯¦è§£

**é™æ€ä¿¡æ¯**ï¼š
- `NPCID`, `NPCName`ï¼šè§’è‰²æ ‡è¯†
- `Portrait`, `RoleIcon`ï¼šç¾æœ¯èµ„æº
- `BgDescription`ï¼šè§’è‰²èƒŒæ™¯æè¿°

**æ¸¸æˆé€»è¾‘**ï¼š
- `UnlockCondition`ï¼šè§£é”æ¡ä»¶ï¼ˆäº‹ä»¶IDï¼‰
- `SelectedState`ï¼šå½“å‰æ˜¯å¦è¢«é€‰ä¸­
- `Marked`ï¼šæ˜¯å¦è¢«æ ‡è®°ä¸ºé‡ç‚¹
- `DialogueContent`ï¼šå…³è”çš„å¯¹è¯IDåˆ—è¡¨
- `ExposeMessage`ï¼šå…³è”çš„æŒ‡è¯ä¿¡æ¯IDåˆ—è¡¨

### 2.4 å®Œæ•´æ•°æ®ç¤ºä¾‹

```json
{
  "NPCID": "NPC001",
  "NPCName": "Webb",
  "RoleIcon": "",
  "Portrait": "",
  "BgDescription": "è“æœˆäº®æ­Œèˆå…è€æ¿ï¼Œæ¶‰å«Œæ´—é’±",
  "UnlockCondition": "",
  "SelectedState": 1,
  "Marked": 1,
  "DialogueContent": "DLG011,DLG007",
  "ExposeMessage": "DAT001"
}
```

```json
{
  "NPCID": "NPC002",
  "NPCName": "Rosa",
  "RoleIcon": "",
  "Portrait": "note_rosa",
  "BgDescription": "50å²çš„æ¸…æ´å·¥",
  "UnlockCondition": "",
  "SelectedState": 0,
  "Marked": 1,
  "DialogueContent": "DLG001,DLG003",
  "ExposeMessage": "DAT002,DAT003,DAT004"
}
```

```json
{
  "NPCID": "NPC003",
  "NPCName": "Tommy",
  "RoleIcon": "",
  "Portrait": "note_tommy",
  "BgDescription": "45å²çš„é…’å§ç»ç†",
  "UnlockCondition": "EVE001",
  "SelectedState": 1,
  "Marked": 0,
  "DialogueContent": "DLG004,DLG005",
  "ExposeMessage": "DAT006,DAT007,DAT008"
}
```

```json
{
  "NPCID": "NPC004",
  "NPCName": "Morrison",
  "RoleIcon": "",
  "Portrait": "note_morrison",
  "BgDescription": "èŠåŠ å“¥è­¦å±€çš„è­¦æ¢ï¼Œè´Ÿè´£å¤„ç†è¿™èµ·è°‹æ€æ¡ˆ",
  "UnlockCondition": "EVE002",
  "SelectedState": 1,
  "Marked": 1,
  "DialogueContent": "DLG007,DLG008",
  "ExposeMessage": "DAT009"
}
```

```json
{
  "NPCID": "NPC005",
  "NPCName": "Anna",
  "RoleIcon": "",
  "Portrait": "note_anna",
  "BgDescription": "æˆ‘æ˜¯Anna",
  "UnlockCondition": "",
  "SelectedState": 0,
  "Marked": 0,
  "DialogueContent": "",
  "ExposeMessage": ""
}
```

---

## 3. Evidenceè¡¨ï¼ˆè¯æ®è¡¨ï¼‰

### 3.1 è¡¨ç»“æ„

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| **EvidenceID** | string | è¯æ®ç¼–å· | EV001, EV002 |
| **EvidenceName** | string | è¯æ®åç§° | å·¥ä½œè®°å½•å¡, ç©ºæ°¯ä»¿ç“¶ |
| **EvidenceType** | string | è¯æ®ç±»å‹ | itemï¼ˆç‰©å“ï¼‰, clueï¼ˆçº¿ç´¢ï¼‰, noteï¼ˆç¬”è®°ï¼‰ |
| **Icon** | string | å›¾æ ‡ | worklist, bottle, towel |
| **DetailImage** | string | è¯¦ç»†å›¾ç‰‡ | ï¼ˆè¯¦ç»†å›¾ç‰‡è·¯å¾„ï¼‰ |
| **Description** | string | æè¿° | Rosa Martinez - 11æœˆ15æ—¥å¤œç­... |
| **RelatedNPCIDs** | string | ç›¸å…³NPC | NPC002, NPC003 |
| **NPCName** | string | ç›¸å…³NPCå¤‡æ³¨ | Rosa, TOMMY |
| **RelatedSceneID** | string | ç›¸å…³åœºæ™¯ | SC003, SC004 |
| **AnalysisRequired** | string | éœ€è¦åˆ†æ | 0ï¼ˆå¦ï¼‰, 1ï¼ˆæ˜¯ï¼‰ |
| **AnalysisResult** | string | åˆ†æåæè¿° | ä¸€æ¡ç™½è‰²æ¯›å·¾ï¼Œæ•£å‘ç€åˆºé¼»çš„ç”œè…»æ°”å‘³... |
| **CombinatableWith** | string | å¯ç»„åˆå¯¹è±¡ | ï¼ˆå…¶ä»–è¯æ®IDï¼‰ |
| **CombineResult** | string | ç»„åˆç»“æœ | ï¼ˆç»„åˆåç”Ÿæˆçš„è¯æ®IDï¼‰ |
| **UsedInExposure** | string | ç”¨äºæŒ‡è¯ | SEC01 |
| **ExposureTime** | string/int | æŒ‡è¯é˜¶æ®µ | 1, 2, 3 |
| **TriggerEvent** | string/int | è§¦å‘äº‹ä»¶ | EV007_Collected |
| **DisplayAfterGot** | string | åœºæ™¯æœè¯åæ˜¾ç¤ºå›¾æ ‡ | clear, circle |

### 3.2 æ•°æ®æ¥æº

**æ–‡ä»¶è·¯å¾„**ï¼š`Assets/Resources/data/Evidence.json`

**æ€»æ•°æ®é‡**ï¼š7æ¡è¯æ®ï¼ˆEV001-EV007ï¼‰

**è¡¨å¤´å®šä¹‰**ï¼š
- ç¬¬1è¡Œï¼šå­—æ®µä¸­æ–‡åç§°
- ç¬¬2è¡Œï¼šå­—æ®µç±»å‹å®šä¹‰
- ç¬¬3è¡Œå¼€å§‹ï¼šå®é™…æ•°æ®

### 3.3 å­—æ®µè¯¦è§£

**é™æ€ä¿¡æ¯**ï¼š
- `EvidenceID`, `EvidenceName`, `EvidenceType`ï¼šè¯æ®æ ‡è¯†
- `Icon`, `DetailImage`ï¼šç¾æœ¯èµ„æº
- `Description`, `AnalysisResult`ï¼šæè¿°ä¿¡æ¯

**å…³è”å…³ç³»**ï¼ˆæ¸¸æˆé€»è¾‘ï¼‰ï¼š
- `RelatedNPCIDs`ï¼šç›¸å…³çš„NPC
- `RelatedSceneID`ï¼šåœ¨å“ªä¸ªåœºæ™¯è·å¾—

**æ¸¸æˆæœºåˆ¶**ï¼ˆæ¸¸æˆé€»è¾‘ï¼‰ï¼š
- `AnalysisRequired`ï¼šæ˜¯å¦éœ€è¦åˆ†ææ‰èƒ½æŸ¥çœ‹å®Œæ•´ä¿¡æ¯
- `CombinatableWith`, `CombineResult`ï¼šè¯æ®ç»„åˆç³»ç»Ÿ
- `UsedInExposure`, `ExposureTime`ï¼šæŒ‡è¯ç³»ç»Ÿ
- `TriggerEvent`ï¼šè·å¾—è¯æ®æ—¶è§¦å‘çš„äº‹ä»¶
- `DisplayAfterGot`ï¼šæ¢ç´¢åœºæ™¯ä¸­çš„æ˜¾ç¤ºæ–¹å¼

### 3.4 å®Œæ•´æ•°æ®ç¤ºä¾‹

```json
{
  "EvidenceID": "EV001",
  "EvidenceName": "å·¥ä½œè®°å½•å¡",
  "EvidenceType": "item",
  "Icon": "worklist",
  "DetailImage": "",
  "Description": "\"Rosa Martinez - 11æœˆ15æ—¥å¤œç­ï¼šåå°èµ°å»Šæ¸…æ´ 23:00-01:00\"",
  "RelatedNPCIDs": "NPC002",
  "NPCName": "Rosa",
  "RelatedSceneID": "SC003",
  "AnalysisRequired": "0",
  "AnalysisResult": "",
  "CombinatableWith": "",
  "CombineResult": "",
  "UsedInExposure": "SEC01",
  "ExposureTime": "1",
  "TriggerEvent": "",
  "DisplayAfterGot": "clear"
}
```

```json
{
  "EvidenceID": "EV002",
  "EvidenceName": "ç©ºæ°¯ä»¿ç“¶",
  "EvidenceType": "item",
  "Icon": "bottle",
  "DetailImage": "",
  "Description": "èŠåŠ å“¥æ€»åŒ»é™¢éº»é†‰ç§‘æ ‡ç­¾ï¼Œç“¶å£æœ‰æ®‹ç•™æ°”å‘³",
  "RelatedNPCIDs": "NPC002",
  "NPCName": "Rosa",
  "RelatedSceneID": "SC004",
  "AnalysisRequired": "0",
  "AnalysisResult": "",
  "CombinatableWith": "",
  "CombineResult": "",
  "UsedInExposure": "",
  "ExposureTime": "",
  "TriggerEvent": "",
  "DisplayAfterGot": "clear"
}
```

```json
{
  "EvidenceID": "EV003",
  "EvidenceName": "æ¯›å·¾",
  "EvidenceType": "item",
  "Icon": "towel",
  "DetailImage": "",
  "Description": "ç™½è‰²æ¯›å·¾",
  "RelatedNPCIDs": "NPC002",
  "NPCName": "Rosa",
  "RelatedSceneID": "SC003",
  "AnalysisRequired": "1",
  "AnalysisResult": "ä¸€æ¡ç™½è‰²æ¯›å·¾ï¼Œæ•£å‘ç€åˆºé¼»çš„ç”œè…»æ°”å‘³ï¼Œæ¯›å·¾ä¸Šæœ‰æ˜æ˜¾çš„ä½¿ç”¨ç—•è¿¹",
  "CombinatableWith": "",
  "CombineResult": "",
  "UsedInExposure": "SEC01",
  "ExposureTime": "2",
  "TriggerEvent": "",
  "DisplayAfterGot": "clear"
}
```

```json
{
  "EvidenceID": "EV004",
  "EvidenceName": "åœ°æ¿æ‹–æ‹½ç—•è¿¹",
  "EvidenceType": "clue",
  "Icon": "trashcan",
  "DetailImage": "",
  "Description": "åœ°æ¯¯æ‹–æ‹½ç—•è¿¹ï¼Œä»èµ°å»Šå°½å¤´åˆ°WebbåŠå…¬å®¤",
  "RelatedNPCIDs": "NPC002",
  "NPCName": "Rosa",
  "RelatedSceneID": "SC003",
  "AnalysisRequired": "1",
  "AnalysisResult": "ç—•è¿¹å®½åº¦çº¦ä¸ºè‚©å®½ï¼Œæ·±åº¦è¡¨æ˜è¢«æ‹–æ‹½ç‰©ä½“é‡é‡è‡³å°‘150ç£…ï¼Œç»éæ™®é€šæ¸…æ´å·¥å…·èƒ½é€ æˆ",
  "CombinatableWith": "",
  "CombineResult": "",
  "UsedInExposure": "SEC01",
  "ExposureTime": "3",
  "TriggerEvent": "",
  "DisplayAfterGot": "circle"
}
```

```json
{
  "EvidenceID": "EV007",
  "EvidenceName": "åŒ»ç–—è´¦å•",
  "EvidenceType": "item",
  "Icon": "dragmark",
  "DetailImage": "",
  "Description": "ä¸€å¼ èŠåŠ å“¥æ€»åŒ»é™¢çš„è´¦å•æ˜¾ç¤º\"æ‚£è€…ï¼šMiguel Martinezï¼Œå“®å–˜æ²»ç–—è´¹ç”¨ï¼š50ç¾å…ƒ/æœˆ\"ï¼Œè´¦å•åº•éƒ¨ç›–ç€çº¢è‰²å°ç« \"é€¾æœŸæœªä»˜-å·²åœæ­¢æ²»ç–—\"ã€‚",
  "RelatedNPCIDs": "NPC002",
  "NPCName": "Rosa",
  "RelatedSceneID": "SC004",
  "AnalysisRequired": "0",
  "AnalysisResult": "",
  "CombinatableWith": "",
  "CombineResult": "",
  "UsedInExposure": "",
  "ExposureTime": "",
  "TriggerEvent": "EV007_Collected",
  "DisplayAfterGot": "circle"
}
```

---

## 4. Taskè¡¨ï¼ˆä»»åŠ¡è¡¨ï¼‰

### 4.1 è¡¨ç»“æ„

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| **ID** | string | ä»»åŠ¡ID | TAS001, TAS002 |
| **TaskText** | string | ä»»åŠ¡å†…å®¹ | åˆ°åº•æ˜¯è°æŠŠæˆ‘è¿·æ™•äº†ï¼Ÿ |
| **SecId** | string | å­ç« èŠ‚ID | SEC01, SEC02 |
| **ItemsId** | string | è·å–è¯æ®ID/äº‹ä»¶IDï¼ˆé€—å·åˆ†éš”ï¼‰ | EV001,EV002,EV003 |
| **IfMain** | string/int | æ˜¯å¦ä¸ºä¸»ä»»åŠ¡ | 1ï¼ˆä¸»çº¿ï¼‰, 0ï¼ˆæ”¯çº¿ï¼‰ |

### 4.2 æ•°æ®æ¥æº

**æ–‡ä»¶è·¯å¾„**ï¼š`Assets/Resources/data/Task.json`

**æ€»æ•°æ®é‡**ï¼š2ä¸ªä¸»è¦ä»»åŠ¡

**è¡¨å¤´å®šä¹‰**ï¼š
- ç¬¬1è¡Œï¼šå­—æ®µä¸­æ–‡åç§°
- ç¬¬2è¡Œï¼šå­—æ®µç±»å‹å®šä¹‰
- ç¬¬3è¡Œå¼€å§‹ï¼šå®é™…æ•°æ®

### 4.3 å®Œæ•´æ•°æ®ç¤ºä¾‹

```json
{
  "ID": "TAS001",
  "TaskText": "åˆ°åº•æ˜¯è°æŠŠæˆ‘è¿·æ™•äº†ï¼Ÿ",
  "SecId": "SEC01",
  "ItemsId": "EV001,EV002,EV003",
  "IfMain": "1"
}
```

```json
{
  "ID": "TAS002",
  "TaskText": "Morrisonè­¦å®˜è¿·æ™•æˆ‘çš„è¯æ®ï¼Ÿ",
  "SecId": "SEC02",
  "ItemsId": "",
  "IfMain": "1"
}
```

---

## 5. InvestigateExposeMessageè¡¨ï¼ˆæŒ‡è¯ä¿¡æ¯è¡¨ï¼‰

### 5.1 è¡¨ç»“æ„

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| **DataID** | string | ä¿¡æ¯ID | DAT001, DAT002 |
| **ChapterID** | string | ç« èŠ‚ID | CH001 |
| **NPCID** | string | NPCID | NPC001, NPC002 |
| **NPCName** | string | NPCå§“å | Webb, Rosa |
| **NPCType** | string | NPCç±»å‹ | VICTIMï¼ˆå—å®³è€…ï¼‰, SUSPECTï¼ˆå«Œç–‘äººï¼‰ |
| **Portrait** | string | å¤´åƒ | ï¼ˆå¤´åƒèµ„æºï¼‰ |
| **NPCData** | string | NPCä¿¡æ¯ï¼ˆè¯è¯ï¼‰ | å½“å¤©æ™šä¸Šæˆ‘è¢«TOMMYç»ç†å®‰æ’äº†å·¥ä½œ |
| **ExposeIndex** | int | æ˜¯å¦ç”¨äºæŒ‡è¯ | 0ï¼ˆå¦ï¼‰, 1ï¼ˆæ˜¯ï¼‰ |
| **ExposedData** | string | æŒ‡è¯åä¿¡æ¯ | zzzzd, aaaa |

### 5.2 æ•°æ®æ¥æº

**æ–‡ä»¶è·¯å¾„**ï¼š`Assets/Resources/data/InvestagateExposeMessage.json`

**æ€»æ•°æ®é‡**ï¼š9æ¡æŒ‡è¯ä¿¡æ¯ï¼ˆDAT001-DAT009ï¼‰

### 5.3 å®Œæ•´æ•°æ®ç¤ºä¾‹

```json
{
  "DataID": "DAT001",
  "ChapterID": "CH001",
  "NPCID": "NPC001",
  "NPCName": "Webb",
  "NPCType": "VICTIM",
  "Portrait": "",
  "NPCData": "",
  "ExposeIndex": 1,
  "ExposedData": ""
}
```

```json
{
  "DataID": "DAT002",
  "ChapterID": "CH001",
  "NPCID": "NPC002",
  "NPCName": "Rosa",
  "NPCType": "SUSPECT",
  "Portrait": "",
  "NPCData": "å½“å¤©æ™šä¸Šæˆ‘è¢«TOMMYç»ç†å®‰æ’äº†å·¥ä½œ",
  "ExposeIndex": 1,
  "ExposedData": "zzzzd"
}
```

```json
{
  "DataID": "DAT003",
  "ChapterID": "CH001",
  "NPCID": "NPC002",
  "NPCName": "Rosa",
  "NPCType": "SUSPECT",
  "Portrait": "",
  "NPCData": "äºæ˜¯æˆ‘ä¸€ç›´åœ¨åœ°ä¸‹å®¤é…’çª–æ¸…ç†ï¼Œæ•´ç†é…’ç“¶å’Œæ¶å­",
  "ExposeIndex": 1,
  "ExposedData": "aaaa"
}
```

```json
{
  "DataID": "DAT004",
  "ChapterID": "CH001",
  "NPCID": "NPC002",
  "NPCName": "Rosa",
  "NPCType": "SUSPECT",
  "Portrait": "",
  "NPCData": "æˆ‘æ²¡æœ‰å¬åˆ°ä»»ä½•çš„è„šæ­¥å£°",
  "ExposeIndex": 0,
  "ExposedData": ""
}
```

```json
{
  "DataID": "DAT006",
  "ChapterID": "CH001",
  "NPCID": "NPC003",
  "NPCName": "Tommy",
  "NPCType": "SUSPECT",
  "Portrait": "",
  "NPCData": "æ¡ˆå‘å½“æ™šå¤§æ¦‚11ç‚¹å¤šï¼Œæˆ‘çœ‹åˆ°ä¸€ä¸ªè­¦å¯Ÿä»ä¾§é—¨å¼‚å¸¸è¿›å…¥ï¼Œç›´æ¥å¾€åå°åŠå…¬å®¤èµ°",
  "ExposeIndex": 1,
  "ExposedData": "aaaa"
}
```

```json
{
  "DataID": "DAT009",
  "ChapterID": "CH001",
  "NPCID": "NPC004",
  "NPCName": "Morrison",
  "NPCType": "SUSPECT",
  "Portrait": "",
  "NPCData": "æˆ‘å¾—åˆ°æŠ¥æ¡ˆåç«‹åˆ»èµ¶å¾€ç°åœºï¼Œå‘ç°æ­»äº¡çš„WEBBå’ŒæŒæªçš„ZACK",
  "ExposeIndex": 1,
  "ExposedData": "aaaa"
}
```

---

## 6. ä»£ç åŠ è½½å®ç°

### 6.1 é…ç½®è¡¨åŠ è½½å™¨ç¤ºä¾‹

æ‰€æœ‰é…ç½®è¡¨éƒ½ä½¿ç”¨ç±»ä¼¼çš„åŠ è½½æ¨¡å¼ï¼š

```csharp
public static class EvidenceTable
{
    private static Dictionary<string, NDCEvidenceData> _data;

    [RuntimeInitializeOnLoadMethod(RuntimeInitializeLoadType.BeforeSceneLoad)]
    private static void Load()
    {
        TextAsset asset = Resources.Load<TextAsset>("data/Evidence");
        if (asset == null)
        {
            Debug.LogError("[EvidenceTable] æ‰¾ä¸åˆ° Resources/data/Evidence.json");
            return;
        }

        EvidenceWrapper wrapper = JsonUtility.FromJson<EvidenceWrapper>(asset.text);
        _data = new Dictionary<string, NDCEvidenceData>(wrapper.Evidence.Count);
        foreach (var ev in wrapper.Evidence)
        {
            if (string.IsNullOrEmpty(ev.EvidenceID)) continue;
            _data[ev.EvidenceID] = ev;
        }
        Debug.Log($"[EvidenceTable] åŠ è½½å®Œæˆï¼Œå…± {_data.Count} æ¡è®°å½•");
    }

    public static NDCEvidenceData Get(string id)
    {
        if (string.IsNullOrEmpty(id)) return null;
        _data.TryGetValue(id, out var ret);
        return ret;
    }

    public static IReadOnlyDictionary<string, NDCEvidenceData> All => _data;

    public static IReadOnlyCollection<NDCEvidenceData> GetAll()
    {
        if (_data == null) Load();
        return _data?.Values;
    }
}

[System.Serializable]
public class EvidenceWrapper
{
    public List<NDCEvidenceData> Evidence = new();
}
```

### 6.2 æ•°æ®ç»“æ„å®šä¹‰

```csharp
[System.Serializable]
public class NDCEvidenceData
{
    public string EvidenceID;
    public string EvidenceName;
    public string EvidenceType;
    public string Icon;
    public string DetailImage;
    public string Description;
    public string RelatedNPCIDs;
    public string NPCName;
    public string RelatedSceneID;
    public string AnalysisRequired;
    public string AnalysisResult;
    public string CombinatableWith;
    public string CombineResult;
    public string UsedInExposure;
    public string ExposureTime;
    public string TriggerEvent;
    public string DisplayAfterGot;
}
```

```csharp
[System.Serializable]
public class NDCRoleData
{
    public string NPCID;
    public string NPCName;
    public string RoleIcon;
    public string Portrait;
    public string BgDescription;
    public string UnlockCondition;
    public int SelectedState;
    public int Marked;
    public string DialogueContent;
    public string ExposeMessage;
}
```

```csharp
[System.Serializable]
public class NDCTalkData
{
    public string DialogueID;
    public string SceneID;
    public string NPCID;
    public string DialogueType;
    public string Icon;
    public string CharacterPortrait;
    public string frontContent;
    public string Content;
    public string Options;
    public string IsEnd;
    public string VoiceFile;
    public string ExtractHighlight;
    public string NextContent;
    public string TriggerEvent;
}
```

```csharp
[System.Serializable]
public class NDCTaskData
{
    public string ID;
    public string TaskText;
    public string SecId;
    public string ItemsId;
    public string IfMain;
}
```

---

## 7. æ—§è¡¨è®¾è®¡çš„ç‰¹ç‚¹

### 7.1 ä¼˜ç‚¹

1. **æ•°æ®å®Œæ•´**ï¼šæ‰€æœ‰æ¸¸æˆé€»è¾‘éƒ½åœ¨é…ç½®è¡¨ä¸­ï¼Œä¸€ç›®äº†ç„¶
2. **å¿«é€Ÿå¼€å‘**ï¼šåˆæœŸå¼€å‘å¿«ï¼Œä¸éœ€è¦å†™å¤ªå¤šä»£ç 
3. **å…³è”æ˜ç¡®**ï¼šé€šè¿‡IDå­—ç¬¦ä¸²å¯ä»¥çœ‹åˆ°å„ä¸ªç³»ç»Ÿçš„å…³è”å…³ç³»

### 7.2 ç¼ºç‚¹

1. **æ•°æ®ä¸é€»è¾‘æ··åˆ**ï¼šé…ç½®è¡¨åŒæ—¶æ‰¿æ‹…æ•°æ®å­˜å‚¨å’Œé€»è¾‘é…ç½®çš„èŒè´£
2. **è¿è¡Œæ—¶çŠ¶æ€æ··å…¥**ï¼š`SelectedState`, `Marked` ç­‰çŠ¶æ€ä¸åº”è¯¥åœ¨é™æ€é…ç½®ä¸­
3. **ç»´æŠ¤å›°éš¾**ï¼šä¿®æ”¹æ¸¸æˆé€»è¾‘éœ€è¦é‡æ–°å¯¼è¡¨
4. **ç¼ºä¹å›½é™…åŒ–**ï¼šåªæœ‰ä¸­æ–‡å†…å®¹ï¼Œå›½é™…åŒ–éœ€è¦å¤§é‡æ”¹åŠ¨
5. **æ‰©å±•æ€§å·®**ï¼šæ·»åŠ æ–°åŠŸèƒ½éœ€è¦ä¿®æ”¹è¡¨ç»“æ„
6. **ç±»å‹ä¸ç»Ÿä¸€**ï¼šå¾ˆå¤šå­—æ®µä½¿ç”¨stringå­˜å‚¨æ•°å­—ï¼ˆå¦‚ï¼š`AnalysisRequired`åº”ä¸ºboolï¼‰

---

## 8. ä½¿ç”¨åœºæ™¯

### 8.1 å¯¹è¯ç³»ç»Ÿæµç¨‹

```
1. æ ¹æ®åœºæ™¯åŠ è½½å¯¹åº”çš„å¯¹è¯ï¼ˆé€šè¿‡SceneIDç­›é€‰ï¼‰
2. ä»èµ·å§‹DialogueIDå¼€å§‹æ˜¾ç¤ºå¯¹è¯
3. æ ¹æ®Optionsæ˜¾ç¤ºé€‰é¡¹ï¼ˆå¦‚æœæœ‰ï¼‰
4. æ ¹æ®NextContentè·³è½¬åˆ°ä¸‹ä¸€å¥
5. æ£€æŸ¥IsEndåˆ¤æ–­æ˜¯å¦ç»“æŸ
6. è§¦å‘TriggerEventæ‰§è¡Œæ¸¸æˆäº‹ä»¶
```

### 8.2 è¯æ®ç³»ç»Ÿæµç¨‹

```
1. åœ¨åœºæ™¯SC003ä¸­æ¢ç´¢ï¼Œæ‰¾åˆ°è¯æ®EV001
2. è§¦å‘TriggerEventï¼ˆå¦‚æœæœ‰ï¼‰
3. è¯æ®åŠ å…¥èƒŒåŒ…ï¼Œæ ¹æ®DisplayAfterGotæ˜¾ç¤ºå›¾æ ‡
4. å¦‚æœAnalysisRequired=1ï¼Œæ˜¾ç¤ºDescription
5. åˆ†æåï¼Œæ˜¾ç¤ºAnalysisResult
6. åœ¨æŒ‡è¯é˜¶æ®µSEC01ä½¿ç”¨ï¼ŒUsedInExposureåŒ¹é…
7. æ ¹æ®ExposureTimeç¡®å®šæŒ‡è¯é¡ºåº
```

### 8.3 NPCè§£é”æµç¨‹

```
1. æ¸¸æˆå¼€å§‹ï¼Œæ£€æŸ¥æ‰€æœ‰NPCçš„UnlockCondition
2. å½“äº‹ä»¶EVE001è§¦å‘æ—¶
3. è§£é”æ‰€æœ‰UnlockCondition="EVE001"çš„NPC
4. NPCçš„DialogueContentå’ŒExposeMessageå˜ä¸ºå¯ç”¨
```

---

## 9. æ•°æ®å…³ç³»å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Scene     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€> Talk (SceneID)
       â”‚
       â””â”€â”€â”€â”€â”€â”€> Evidence (RelatedSceneID)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     NPC     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€> Talk (NPCID, NPCTalk)
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€> Evidence (RelatedNPCIDs)
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€> ExposeMessage (NPCID)
       â”‚
       â””â”€â”€â”€â”€â”€â”€> Dialogue IDs (DialogueContent)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Chapter   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€> Task (SecId)
       â”‚
       â””â”€â”€â”€â”€â”€â”€> ExposeMessage (ChapterID)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Evidence  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â””â”€â”€â”€â”€â”€â”€> Task (ItemsId)
```

---

## 10. Excelæºæ–‡ä»¶ç»“æ„

### 10.1 æ–‡ä»¶ä½ç½®

```
Config/Datas/story/
â”œâ”€â”€ Talk.xlsx              # å¯¹è¯è¡¨æºæ–‡ä»¶
â”œâ”€â”€ NPCStaticData.xlsx     # è§’è‰²è¡¨æºæ–‡ä»¶ï¼ˆå¯¹åº”Roleï¼‰
â””â”€â”€ ItemStaticData.xlsx    # ç‰©å“è¡¨æºæ–‡ä»¶ï¼ˆå¯¹åº”Evidenceï¼‰
```

### 10.2 å¯¼å‡ºé…ç½®

**é…ç½®æ–‡ä»¶**ï¼š`Config/luban.conf`

**å¯¼å‡ºè„šæœ¬**ï¼š`Config/gen.bat`

```batch
dotnet Luban.dll ^
    -t all ^
    -d json ^
    -c cs-simple-json ^
    --conf luban.conf ^
    -x outputDataDir=..\Assets\Resources\Config ^
    -x outputCodeDir=..\Assets\Scripts\Code
```

---

## 11. å½“å‰ä½¿ç”¨çŠ¶æ€

### 11.1 å·²å®ç°çš„åŠŸèƒ½

- âœ… å¯¹è¯ç³»ç»Ÿï¼ˆTalkè¡¨ï¼‰
- âœ… NPCä¿¡æ¯å±•ç¤ºï¼ˆRoleè¡¨ï¼‰
- âœ… è¯æ®æ”¶é›†ç³»ç»Ÿï¼ˆEvidenceè¡¨ï¼‰
- âœ… ä»»åŠ¡ç³»ç»Ÿï¼ˆTaskè¡¨ï¼‰
- âœ… æŒ‡è¯ç³»ç»Ÿï¼ˆExposeMessageè¡¨ï¼‰

### 11.2 å·²çŸ¥é—®é¢˜

1. **ç±»å‹ä¸ä¸€è‡´**ï¼šå¾ˆå¤šæ•°å­—å­—æ®µä½¿ç”¨stringå­˜å‚¨
2. **å­—æ®µå†—ä½™**ï¼šéƒ¨åˆ†å­—æ®µæœªä½¿ç”¨æˆ–ä½¿ç”¨ç‡ä½
3. **ç¼ºä¹éªŒè¯**ï¼šIDå¼•ç”¨æ²¡æœ‰å®Œæ•´æ€§æ£€æŸ¥
4. **ç¡¬ç¼–ç é€»è¾‘**ï¼šæ¸¸æˆé€»è¾‘ç›´æ¥å†™åœ¨é…ç½®è¡¨ä¸­

---

**æ–‡æ¡£ç»“æŸ**
